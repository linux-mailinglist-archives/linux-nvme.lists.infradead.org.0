Return-Path: <linux-nvme-bounces+lists+linux-nvme=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-nvme@lfdr.de
Delivered-To: lists+linux-nvme@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 5D259181BF
	for <lists+linux-nvme@lfdr.de>; Wed,  8 May 2019 23:47:11 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:MIME-Version:In-Reply-To:References:
	Message-ID:Date:Subject:To:From:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=hCVVLcEfd9LENOqXtB3UvBH2AQzDKOvML+weyHoz31o=; b=q5SE44S0o+W4a7
	fo4x96CUXTWrpAmtdYcav1nKjtBWnKcNNSTkPEVKtJyEq/kVYlHhFWVRyYnYg2JQAmdLW+2Ep+Je0
	Jy3agAhVsjKujcfNig1vnB6Ao3Stu/SoHbHNuXddeqMBVIkwNYpw6A7/MKdy4MTCTzMoSuK2l9DH1
	ln6Glmlunue/1z3ao6XgEYcqLRxeO53CIT17emcy0TGgINPSL9KluD9QrnT1Vzl4UMD8cvarX2GH1
	SoRVD42AdUH2QUQPYeiqY1hLe7XuErkK8VDkI+kniSYrxPmtrmJRcwvRnlX6oFJxTTPo0zlOJBSom
	jAgmrgBadhouRkChzrNQ==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.90_1 #2 (Red Hat Linux))
	id 1hOUP1-0002lL-3C; Wed, 08 May 2019 21:47:03 +0000
Received: from mga07.intel.com ([134.134.136.100])
 by bombadil.infradead.org with esmtps (Exim 4.90_1 #2 (Red Hat Linux))
 id 1hOUOu-0002kq-4W
 for linux-nvme@lists.infradead.org; Wed, 08 May 2019 21:46:58 +0000
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 May 2019 14:46:53 -0700
X-ExtLoop1: 1
Received: from fmsmsx105.amr.corp.intel.com ([10.18.124.203])
 by FMSMGA003.fm.intel.com with ESMTP; 08 May 2019 14:46:53 -0700
Received: from fmsmsx120.amr.corp.intel.com (10.18.124.208) by
 FMSMSX105.amr.corp.intel.com (10.18.124.203) with Microsoft SMTP Server (TLS)
 id 14.3.408.0; Wed, 8 May 2019 14:46:53 -0700
Received: from fmsmsx105.amr.corp.intel.com ([169.254.4.204]) by
 fmsmsx120.amr.corp.intel.com ([169.254.15.34]) with mapi id 14.03.0415.000;
 Wed, 8 May 2019 14:46:53 -0700
From: "Reese, Benjamin" <benjamin.reese@intel.com>
To: Chaitanya Kulkarni <Chaitanya.Kulkarni@wdc.com>, "kbusch@kernel.org"
 <kbusch@kernel.org>, Sagi Grimberg <sagi@grimberg.me>, Christoph Hellwig
 <hch@infradead.org>
Subject: RE: [RFC/PATCH nvme-cli] nvme list- separate controllers from
 namespaces
Thread-Topic: [RFC/PATCH nvme-cli] nvme list- separate controllers from
 namespaces
Thread-Index: AdUAWBdkz9mh650ZRvup/gjUVPJZWv//uniA//SjxSA=
Date: Wed, 8 May 2019 21:46:52 +0000
Message-ID: <FC12EE9B8B967842B18D27FC4AD2C07FB0B015A1@FMSMSX105.amr.corp.intel.com>
References: <EB8F1E865882C64ABCEDE282942116B98F467B@FMSMSX102.amr.corp.intel.com>
 <92CF2D6C-F560-470F-B5E7-99935DF32CE8@wdc.com>
In-Reply-To: <92CF2D6C-F560-470F-B5E7-99935DF32CE8@wdc.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
dlp-product: dlpe-windows
dlp-version: 11.0.600.7
dlp-reaction: no-action
x-titus-metadata-40: eyJDYXRlZ29yeUxhYmVscyI6IiIsIk1ldGFkYXRhIjp7Im5zIjoiaHR0cDpcL1wvd3d3LnRpdHVzLmNvbVwvbnNcL0ludGVsMyIsImlkIjoiMmFmZDcwODMtZDc4Mi00ZTNkLTlhZDAtOTExNzhkODlhM2ExIiwicHJvcHMiOlt7Im4iOiJDVFBDbGFzc2lmaWNhdGlvbiIsInZhbHMiOlt7InZhbHVlIjoiQ1RQX05UIn1dfV19LCJTdWJqZWN0TGFiZWxzIjpbXSwiVE1DVmVyc2lvbiI6IjE3LjEwLjE4MDQuNDkiLCJUcnVzdGVkTGFiZWxIYXNoIjoiQ08wM1Q5N1FOVnRNdVFBSExaN3YyMHdFNXJxWUwyTVdrNFpCOUVcLzVWbmtxRzZcL1NKSXJTSHA5TVZlcFlnUTdKIn0=
x-ctpclassification: CTP_NT
x-originating-ip: [10.1.200.106]
MIME-Version: 1.0
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20190508_144656_279122_8CC63328 
X-CRM114-Status: GOOD (  26.41  )
X-Spam-Score: -2.3 (--)
X-Spam-Report: SpamAssassin version 3.4.2 on bombadil.infradead.org summary:
 Content analysis details:   (-2.3 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -2.3 RCVD_IN_DNSWL_MED      RBL: Sender listed at https://www.dnswl.org/,
 medium trust [134.134.136.100 listed in list.dnswl.org]
 -0.0 SPF_PASS               SPF: sender matches SPF record
X-BeenThere: linux-nvme@lists.infradead.org
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <linux-nvme.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-nvme>,
 <mailto:linux-nvme-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-nvme/>
List-Post: <mailto:linux-nvme@lists.infradead.org>
List-Help: <mailto:linux-nvme-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-nvme>,
 <mailto:linux-nvme-request@lists.infradead.org?subject=subscribe>
Cc: "Tay, Kelly" <kelly.tay@intel.com>,
 "linux-nvme@lists.infradead.org" <linux-nvme@lists.infradead.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "Linux-nvme" <linux-nvme-bounces@lists.infradead.org>
Errors-To: linux-nvme-bounces+lists+linux-nvme=lfdr.de@lists.infradead.org

VGhlIG1haW4gcmVhc29uIGZvciB0aGlzIGNoYW5nZSB3b3VsZCB0byBwcmV2ZW50IGEgcmVvY2N1
cnJpbmcgc2NlbmFyaW8gd2UndmUgc2VlbjoNCglGb3Igc29tZSByZWFzb24gYSBkcml2ZSBpcyBu
b3QgZW51bWVyYXRpbmcgbmFtZXNwYWNlcywgdXN1YWxseSBiZWNhdXNlIHRoZSB1c2VyIGRlbGV0
ZWQgdGhlbSBhbGwgdmlhIG5hbWVzcGFjZSBtYW5hZ2VtZW50IGNvbW1hbmRzIG9yIGRyaXZlIGlz
IGluIHNvbWUgYWJub3JtYWwgc3RhdGUuDQoJTGFjayBvZiBuYW1lc3BhY2VzIGNhdXNlcyB0aGUg
ZHJpdmUgdG8gbm90IGJlIHNob3duIG5vdCBzaG93biBpbiAnbnZtZSBsaXN0JyBjb21tYW5kIGFz
IGN1cnJlbnRseSBpbXBsZW1lbnRlZC4NCglVc2VyIGFzc3VtZXMgdGhlIE5WTWUgZGV2aWNlIGlz
ICdicmlja2VkJy4NCg0KQW4gYWRkZWQgYmVuZWZpdHMgYXJlIHRoYXQgdGhpcyBwcmV2ZW50cyB0
aGUgZHVwbGljYXRlIHByaW50aW5nIG9mIGRhdGEgKFNlcmlhbCBOdW1iZXIsIE1vZGVsLCBGVyBy
ZXYpIHBlciBuYW1lc3BhY2UsIGFuZCBpZiBhIHVzZXIgaXMgaW50ZXJlc3RlZCBpbiBhIHNwZWNp
ZmljIHR5cGUgaXRlbSAobmFtZXNwYWNlLCBvciBjb250cm9sbGVyKSB0aGF0IGNhbiBiZSBhY2Nl
c3NlZCBlYXNpbHkgdmlhIHRoZSBuZXcgYXJndW1lbnRzLg0KCQ0KDQo+IC0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tDQo+IEZyb206IExpbnV4LW52bWUgPGxpbnV4LW52bWUtYm91bmNlc0BsaXN0
cy5pbmZyYWRlYWQub3JnPiBPbiBCZWhhbGYgT2YNCj4gQ2hhaXRhbnlhIEt1bGthcm5pDQo+IFNl
bnQ6IFdlZG5lc2RheSwgTWF5IDEsIDIwMTkgMzo0OSBQTQ0KPiBUbzoga2J1c2NoQGtlcm5lbC5v
cmc7IFNhZ2kgR3JpbWJlcmcgPHNhZ2lAZ3JpbWJlcmcubWU+OyBDaHJpc3RvcGgNCj4gSGVsbHdp
ZyA8aGNoQGluZnJhZGVhZC5vcmc+DQo+IENjOiBUYXksIEtlbGx5IDxrZWxseS50YXlAaW50ZWwu
Y29tPjsgbGludXgtbnZtZUBsaXN0cy5pbmZyYWRlYWQub3JnDQo+IFN1YmplY3Q6IFJlOiBbUkZD
L1BBVENIIG52bWUtY2xpXSBudm1lIGxpc3QtIHNlcGFyYXRlIGNvbnRyb2xsZXJzIGZyb20NCj4g
bmFtZXNwYWNlcw0KPiANCj4gSGkgS2VpdGgvU2FnaS9DaHJpc3RvcGgsDQo+IA0KPiBJcyB0aGlz
IHNvbWV0aGluZyBkbyB3ZSByZWFsbHkgbmVlZCA/DQo+IA0KPiDvu79PbiA1LzEvMTksIDE6MTEg
UE0sICJMaW51eC1udm1lIG9uIGJlaGFsZiBvZiBUYXksIEtlbGx5IiA8bGludXgtbnZtZS0NCj4g
Ym91bmNlc0BsaXN0cy5pbmZyYWRlYWQub3JnIG9uIGJlaGFsZiBvZiBrZWxseS50YXlAaW50ZWwu
Y29tPiB3cm90ZToNCj4gDQo+ICAgICBTZXBhcmF0ZWQgY29udHJvbGxlcnMgZnJvbSBuYW1lc3Bh
Y2VzIG9uIG52bWUgbGlzdA0KPiAgICAgLWNvbnRyb2xsZXIgdGhhdCBpcyBub3QgZW51bWVyYXRp
bmcgbmFtZXNwYWNlcyBpcyBzdGlsbCByZXByZXNlbnRlZCB0bw0KPiByZXNvbHZlIGNvbmZ1c2lv
biBhcm91bmQgbWlzc2luZyBkZXZpY2VzDQo+ICAgICAtcHJldmVudHMgZHVwbGljYXRlIHByaW50
aW5nIG9mIGRhdGENCj4gDQo+ICAgICBTaWduZWQtb2ZmLWJ5OiBLZWxseSBUYXkgPGtlbGx5LnRh
eUBpbnRlbC5jb20+DQo+ICAgICAtLS0NCj4gICAgICBEb2N1bWVudGF0aW9uL252bWUtbGlzdC4x
IHwgIDEyICsrKw0KPiAgICAgIG52bWUtcHJpbnQuYyAgICAgICAgICAgICAgfCAyMjYNCj4gKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLQ0KPiAgICAgIG52bWUt
cHJpbnQuaCAgICAgICAgICAgICAgfCAgMTAgKy0NCj4gICAgICBudm1lLmMgICAgICAgICAgICAg
ICAgICAgIHwgMTgyICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0NCj4gICAg
ICA0IGZpbGVzIGNoYW5nZWQsIDM3MyBpbnNlcnRpb25zKCspLCA1NyBkZWxldGlvbnMoLSkNCj4g
DQo+ICAgICBkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi9udm1lLWxpc3QuMSBiL0RvY3VtZW50
YXRpb24vbnZtZS1saXN0LjENCj4gICAgIGluZGV4IDlmYjA5ODkuLjk4NzY1N2UgMTAwNjQ0DQo+
ICAgICAtLS0gYS9Eb2N1bWVudGF0aW9uL252bWUtbGlzdC4xDQo+ICAgICArKysgYi9Eb2N1bWVu
dGF0aW9uL252bWUtbGlzdC4xDQo+ICAgICBAQCAtMzMsNiArMzMsOCBAQCBudm1lLWxpc3QgXC0g
TGlzdCBhbGwgcmVjb2duaXplZCBOVk1lIGRldmljZXMNCj4gICAgICAuc3ANCj4gICAgICAubmYN
Cj4gICAgICBcZkludm1lIGxpc3RcZlIgW1wtbyA8Zm10PiB8IFwtXC1vdXRwdXRcLWZvcm1hdD08
Zm10Pl0NCj4gICAgICsJCVtcLWMgfCBcLVwtY29udHJvbGxlcl0NCj4gICAgICsJCVtcLW4gfCBc
LVwtbmFtZXNwYWNlXQ0KPiAgICAgIC5maQ0KPiAgICAgIC5TSCAiREVTQ1JJUFRJT04iDQo+ICAg
ICAgLnNwDQo+ICAgICBAQCAtNDYsNiArNDgsMTYgQEAgU2V0IHRoZSByZXBvcnRpbmcgZm9ybWF0
IHRvDQo+ICAgICAgb3INCj4gICAgICBcZklqc29uXGZSXCYuIE9ubHkgb25lIG91dHB1dCBmb3Jt
YXQgY2FuIGJlIHVzZWQgYXQgYSB0aW1lXCYuDQo+ICAgICAgLlJFDQo+ICAgICArLlBQDQo+ICAg
ICArXC1jLCBcLVwtY29udHJvbGxlcg0KPiAgICAgKy5SUyA0DQo+ICAgICArSW5jbHVkZSBjb250
cm9sbGVyIGRldmljZXMgaW4gb3V0cHV0XCYuDQo+ICAgICArLlJFDQo+ICAgICArLlBQDQo+ICAg
ICArXC1uLCBcLVwtbmFtZXNwYWNlDQo+ICAgICArLlJTIDQNCj4gICAgICtJbmNsdWRlIG5hbWVz
cGFjZSBkZXZpY2VzIGluIG91dHB1dFwmLg0KPiAgICAgKy5SRQ0KPiAgICAgIC5TSCAiRU5WSVJP
Tk1FTlQiDQo+ICAgICAgLnNwDQo+ICAgICAgUENJX0lEU19QQVRIIFwtIEZ1bGwgcGF0aCBvZiBw
Y2lcJi5pZHMgZmlsZSBpbiBjYXNlIG52bWUgY291bGQgbm90IGZpbmQgaXQgaW4NCj4gY29tbW9u
IGxvY2F0aW9uc1wmLg0KPiAgICAgZGlmZiAtLWdpdCBhL252bWUtcHJpbnQuYyBiL252bWUtcHJp
bnQuYw0KPiAgICAgaW5kZXggMTU2YTYyYy4uMzdlOWZhZSAxMDA2NDQNCj4gICAgIC0tLSBhL252
bWUtcHJpbnQuYw0KPiAgICAgKysrIGIvbnZtZS1wcmludC5jDQo+ICAgICBAQCAtMjEyNCw3ICsy
MTI0LDI4IEBAIHZvaWQgbnZtZV9mZWF0dXJlX3Nob3dfZmllbGRzKF9fdTMyIGZpZCwNCj4gdW5z
aWduZWQgaW50IHJlc3VsdCwgdW5zaWduZWQgY2hhciAqYnVmDQo+ICAgICAgCX0NCj4gICAgICB9
DQo+IA0KPiAgICAgLXN0YXRpYyB2b2lkIHNob3dfbGlzdF9pdGVtKHN0cnVjdCBsaXN0X2l0ZW0g
bGlzdF9pdGVtKQ0KPiAgICAgK3N0YXRpYyB2b2lkIHNob3dfY3RybF9saXN0X2l0ZW0oc3RydWN0
IGxpc3RfaXRlbSBsaXN0X2l0ZW0pDQo+ICAgICArew0KPiAgICAgKwlwcmludGYoIiUtMTZzICUt
Ki4qcyAlLSouKnMgJS0uKnNcbiIsIGxpc3RfaXRlbS5ub2RlLA0KPiAgICAgKwkJKGludClzaXpl
b2YobGlzdF9pdGVtLmN0cmwuc24pLCAoaW50KXNpemVvZihsaXN0X2l0ZW0uY3RybC5zbiksDQo+
IGxpc3RfaXRlbS5jdHJsLnNuLA0KPiAgICAgKwkJKGludClzaXplb2YobGlzdF9pdGVtLmN0cmwu
bW4pLCAoaW50KXNpemVvZihsaXN0X2l0ZW0uY3RybC5tbiksDQo+IGxpc3RfaXRlbS5jdHJsLm1u
LA0KPiAgICAgKwkJKGludClzaXplb2YobGlzdF9pdGVtLmN0cmwuZnIpLCBsaXN0X2l0ZW0uY3Ry
bC5mcik7DQo+ICAgICArfQ0KPiAgICAgKw0KPiAgICAgK3ZvaWQgc2hvd19jdHJsX2xpc3RfaXRl
bXMoc3RydWN0IGxpc3RfaXRlbSAqbGlzdF9pdGVtcywgdW5zaWduZWQgaW50IGxlbikNCj4gICAg
ICt7DQo+ICAgICArCXVuc2lnbmVkIGludCBpOw0KPiAgICAgKw0KPiAgICAgKwlwcmludGYoIiUt
MTZzICUtMjBzICUtNDBzICUtOHNcbiIsDQo+ICAgICArCQkiTm9kZSIsICJTTiIsICJNb2RlbCIs
ICJGVyBSZXYiKTsNCj4gICAgICsJcHJpbnRmKCIlLTE2cyAlLTIwcyAlLTQwcyAlLThzXG4iLA0K
PiAgICAgKwkJIi0tLS0tLS0tLS0tLS0tLS0iLCAiLS0tLS0tLS0tLS0tLS0tLS0tLS0iLA0KPiAg
ICAgKwkJIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iLCAiLS0tLS0t
LS0iKTsNCj4gICAgICsJZm9yIChpID0gMCA7IGkgPCBsZW4gOyBpKyspDQo+ICAgICArCQlzaG93
X2N0cmxfbGlzdF9pdGVtKGxpc3RfaXRlbXNbaV0pOw0KPiAgICAgK30NCj4gICAgICsNCj4gICAg
ICtzdGF0aWMgdm9pZCBzaG93X25zX2xpc3RfaXRlbShzdHJ1Y3QgbGlzdF9pdGVtIGxpc3RfaXRl
bSkNCj4gICAgICB7DQo+ICAgICAgCWxvbmcgbG9uZyBpbnQgbGJhID0gMSA8PCBsaXN0X2l0ZW0u
bnMubGJhZlsobGlzdF9pdGVtLm5zLmZsYmFzICYNCj4gMHgwZildLmRzOw0KPiAgICAgIAlkb3Vi
bGUgbnN6ZSAgICAgICA9IGxlNjRfdG9fY3B1KGxpc3RfaXRlbS5ucy5uc3plKSAqIGxiYTsNCj4g
ICAgIEBAIC0yMTM3LDQzICsyMTU4LDE2NCBAQCBzdGF0aWMgdm9pZCBzaG93X2xpc3RfaXRlbShz
dHJ1Y3QgbGlzdF9pdGVtDQo+IGxpc3RfaXRlbSkNCj4gICAgICAJY2hhciB1c2FnZVsxMjhdOw0K
PiAgICAgIAljaGFyIGZvcm1hdFsxMjhdOw0KPiANCj4gICAgIC0Jc3ByaW50Zih1c2FnZSwiJTYu
MmYgJTJzQiAvICU2LjJmICUyc0IiLCBudXNlLCB1X3N1ZmZpeCwNCj4gICAgICsJc3ByaW50Zih1
c2FnZSwgIiU2LjJmICUyc0IgLyAlNi4yZiAlMnNCIiwgbnVzZSwgdV9zdWZmaXgsDQo+ICAgICAg
CQluc3plLCBzX3N1ZmZpeCk7DQo+ICAgICAtCXNwcmludGYoZm9ybWF0LCIlMy4wZiAlMnNCICsg
JTJkIEIiLCAoZG91YmxlKWxiYSwgbF9zdWZmaXgsDQo+ICAgICArCXNwcmludGYoZm9ybWF0LCAi
JTMuMGYgJTJzQiArICUyZCBCIiwgKGRvdWJsZSlsYmEsIGxfc3VmZml4LA0KPiAgICAgIAkJbGUx
Nl90b19jcHUobGlzdF9pdGVtLm5zLmxiYWZbKGxpc3RfaXRlbS5ucy5mbGJhcyAmDQo+IDB4MGYp
XS5tcykpOw0KPiAgICAgLQlwcmludGYoIiUtMTZzICUtKi4qcyAlLSouKnMgJS05ZCAlLTI2cyAl
LTE2cyAlLS4qc1xuIiwNCj4gbGlzdF9pdGVtLm5vZGUsDQo+ICAgICAtICAgICAgICAgICAgKGlu
dClzaXplb2YobGlzdF9pdGVtLmN0cmwuc24pLCAoaW50KXNpemVvZihsaXN0X2l0ZW0uY3RybC5z
biksDQo+IGxpc3RfaXRlbS5jdHJsLnNuLA0KPiAgICAgLSAgICAgICAgICAgIChpbnQpc2l6ZW9m
KGxpc3RfaXRlbS5jdHJsLm1uKSwgKGludClzaXplb2YobGlzdF9pdGVtLmN0cmwubW4pLA0KPiBs
aXN0X2l0ZW0uY3RybC5tbiwNCj4gICAgIC0gICAgICAgICAgICBsaXN0X2l0ZW0ubnNpZCwgdXNh
Z2UsIGZvcm1hdCwgKGludClzaXplb2YobGlzdF9pdGVtLmN0cmwuZnIpLA0KPiBsaXN0X2l0ZW0u
Y3RybC5mcik7DQo+ICAgICArCXByaW50ZigiJS0xNnMgJS05ZCAlLTI2cyAlLTE2c1xuIiwgbGlz
dF9pdGVtLm5vZGUsIGxpc3RfaXRlbS5uc2lkLA0KPiB1c2FnZSwgZm9ybWF0KTsNCj4gICAgICB9
DQo+IA0KPiAgICAgLXZvaWQgc2hvd19saXN0X2l0ZW1zKHN0cnVjdCBsaXN0X2l0ZW0gKmxpc3Rf
aXRlbXMsIHVuc2lnbmVkIGxlbikNCj4gICAgICt2b2lkIHNob3dfbnNfbGlzdF9pdGVtcyhzdHJ1
Y3QgbGlzdF9pdGVtICpsaXN0X2l0ZW1zLCB1bnNpZ25lZCBpbnQgbGVuKQ0KPiAgICAgIHsNCj4g
ICAgIC0JdW5zaWduZWQgaTsNCj4gICAgICsJdW5zaWduZWQgaW50IGk7DQo+IA0KPiAgICAgLQlw
cmludGYoIiUtMTZzICUtMjBzICUtNDBzICUtOXMgJS0yNnMgJS0xNnMgJS04c1xuIiwNCj4gICAg
IC0JICAgICJOb2RlIiwgIlNOIiwgIk1vZGVsIiwgIk5hbWVzcGFjZSIsICJVc2FnZSIsICJGb3Jt
YXQiLCAiRlcNCj4gUmV2Iik7DQo+ICAgICAtCXByaW50ZigiJS0xNnMgJS0yMHMgJS00MHMgJS05
cyAlLTI2cyAlLTE2cyAlLThzXG4iLA0KPiAgICAgLSAgICAgICAgICAgICItLS0tLS0tLS0tLS0t
LS0tIiwgIi0tLS0tLS0tLS0tLS0tLS0tLS0tIiwgIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tDQo+IC0tIiwNCj4gICAgIC0gICAgICAgICAgICAiLS0tLS0tLS0tIiwgIi0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiwgIi0tLS0tLS0tLS0tLS0tLS0iLCAiLS0tLS0tLS0i
KTsNCj4gICAgICsJcHJpbnRmKCIlLTE2cyAlLTlzICUtMjZzICUtMTZzXG4iLCAiTm9kZSIsICJO
YW1lc3BhY2UiLCAiVXNhZ2UiLA0KPiAiRm9ybWF0Iik7DQo+ICAgICArCXByaW50ZigiJS0xNnMg
JS05cyAlLTI2cyAlLTE2c1xuIiwNCj4gICAgICsJCSItLS0tLS0tLS0tLS0tLS0tIiwgIi0tLS0t
LS0tLSIsICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIsICItLS0tLS0tLS0tLQ0KPiAtLS0t
LSIpOw0KPiAgICAgIAlmb3IgKGkgPSAwIDsgaSA8IGxlbiA7IGkrKykNCj4gICAgIC0JCXNob3df
bGlzdF9pdGVtKGxpc3RfaXRlbXNbaV0pOw0KPiAgICAgKwkJc2hvd19uc19saXN0X2l0ZW0obGlz
dF9pdGVtc1tpXSk7DQo+ICAgICArfQ0KPiAgICAgKw0KPiAgICAgK3ZvaWQgc2hvd19saXN0X2l0
ZW1zKHN0cnVjdCBsaXN0X2l0ZW0gKmN0cmxfbGlzdF9pdGVtcywgdW5zaWduZWQgaW50DQo+IGN0
cmxfbGVuLA0KPiAgICAgKwkJCQlzdHJ1Y3QgbGlzdF9pdGVtICpuc19saXN0X2l0ZW1zLCB1bnNp
Z25lZCBpbnQNCj4gbnNfbGVuKQ0KPiAgICAgK3sNCj4gICAgICsJdW5zaWduZWQgaW50IGksIGo7
DQo+IA0KPiAgICAgKwlwcmludGYoIiUtMTZzICUtMjBzICUtNDBzICUtOHNcbiIsDQo+ICAgICAr
CQkiTm9kZSIsICJTTiIsICJNb2RlbCIsICJGVyBSZXYiKTsNCj4gICAgICsJcHJpbnRmKCIlLTE2
cyAlLTIwcyAlLTQwcyAlLThzXG4iLA0KPiAgICAgKwkJIi0tLS0tLS0tLS0tLS0tLS0iLCAiLS0t
LS0tLS0tLS0tLS0tLS0tLS0iLA0KPiAgICAgKwkJIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0iLCAiLS0tLS0tLS0iKTsNCj4gICAgICsJZm9yIChpID0gMCA7IGkgPCBj
dHJsX2xlbiA7IGkrKykNCj4gICAgICsJCXNob3dfY3RybF9saXN0X2l0ZW0oY3RybF9saXN0X2l0
ZW1zW2ldKTsNCj4gICAgICsJcHJpbnRmKCJcbiIpOw0KPiAgICAgKwlwcmludGYoIiUtMTZzICUt
OXMgJS0yNnMgJS0xNnNcbiIsICJOb2RlIiwgIk5hbWVzcGFjZSIsICJVc2FnZSIsDQo+ICJGb3Jt
YXQiKTsNCj4gICAgICsJcHJpbnRmKCIlLTE2cyAlLTlzICUtMjZzICUtMTZzXG4iLA0KPiAgICAg
KwkJIi0tLS0tLS0tLS0tLS0tLS0iLCAiLS0tLS0tLS0tIiwgIi0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tIiwgIi0tLS0tLS0tLS0tDQo+IC0tLS0tIik7DQo+ICAgICArCWZvciAoaiA9IDAgOyBq
IDwgbnNfbGVuIDsgaisrKQ0KPiAgICAgKwkJc2hvd19uc19saXN0X2l0ZW0obnNfbGlzdF9pdGVt
c1tqXSk7DQo+ICAgICAgfQ0KPiANCj4gICAgIC12b2lkIGpzb25fcHJpbnRfbGlzdF9pdGVtcyhz
dHJ1Y3QgbGlzdF9pdGVtICpsaXN0X2l0ZW1zLCB1bnNpZ25lZCBsZW4pDQo+ICAgICArdm9pZCBq
c29uX3ByaW50X2xpc3RfaXRlbXMoc3RydWN0IGxpc3RfaXRlbSAqY3RybF9saXN0X2l0ZW1zLCB1
bnNpZ25lZCBpbnQNCj4gY3RybF9sZW4sDQo+ICAgICArCQkJCXN0cnVjdCBsaXN0X2l0ZW0gKm5z
X2xpc3RfaXRlbXMsIHVuc2lnbmVkIGludA0KPiBuc19sZW4pDQo+ICAgICAgew0KPiAgICAgIAlz
dHJ1Y3QganNvbl9vYmplY3QgKnJvb3Q7DQo+ICAgICAtCXN0cnVjdCBqc29uX2FycmF5ICpkZXZp
Y2VzOw0KPiAgICAgKwlzdHJ1Y3QganNvbl9hcnJheSAqY3RybF9kZXZpY2VzLCAqbnNfZGV2aWNl
czsNCj4gICAgICAJc3RydWN0IGpzb25fb2JqZWN0ICpkZXZpY2VfYXR0cnM7DQo+ICAgICAgCWNo
YXIgZm9ybWF0dGVyWzQxXSA9IHsgMCB9Ow0KPiAgICAgLQlpbnQgaW5kZXgsIGkgPSAwOw0KPiAg
ICAgKwlpbnQgaW5kZXgsIGkgPSAwLCBqID0gMDsNCj4gICAgICAJY2hhciAqcHJvZHVjdDsNCj4g
ICAgIC0JbG9uZyBsb25nIGludCBsYmE7DQo+ICAgICArCWxvbmcgbG9uZyBsYmE7DQo+ICAgICAg
CWRvdWJsZSBuc3plOw0KPiAgICAgIAlkb3VibGUgbnVzZTsNCj4gDQo+ICAgICAgCXJvb3QgPSBq
c29uX2NyZWF0ZV9vYmplY3QoKTsNCj4gICAgICsJLypDb250cm9sbGVycyovDQo+ICAgICArCWN0
cmxfZGV2aWNlcyA9IGpzb25fY3JlYXRlX2FycmF5KCk7DQo+ICAgICArCWZvciAoaSA9IDA7IGkg
PCBjdHJsX2xlbjsgaSsrKSB7DQo+ICAgICArCQlkZXZpY2VfYXR0cnMgPSBqc29uX2NyZWF0ZV9v
YmplY3QoKTsNCj4gICAgICsNCj4gICAgICsJCWpzb25fb2JqZWN0X2FkZF92YWx1ZV9zdHJpbmco
ZGV2aWNlX2F0dHJzLA0KPiAgICAgKwkJCQkJCSJEZXZpY2VQYXRoIiwNCj4gICAgICsJCQkJCQlj
dHJsX2xpc3RfaXRlbXNbaV0ubm9kZSk7DQo+ICAgICArDQo+ICAgICArCQlmb3JtYXQoZm9ybWF0
dGVyLCBzaXplb2YoZm9ybWF0dGVyKSwNCj4gICAgICsJCQljdHJsX2xpc3RfaXRlbXNbaV0uY3Ry
bC5mciwNCj4gICAgICsJCQlzaXplb2YoY3RybF9saXN0X2l0ZW1zW2ldLmN0cmwuZnIpKTsNCj4g
ICAgICsNCj4gICAgICsJCWpzb25fb2JqZWN0X2FkZF92YWx1ZV9zdHJpbmcoZGV2aWNlX2F0dHJz
LA0KPiAgICAgKwkJCQkJCSJGaXJtd2FyZSIsDQo+ICAgICArCQkJCQkJZm9ybWF0dGVyKTsNCj4g
ICAgICsNCj4gICAgICsJCWlmIChzc2NhbmYoY3RybF9saXN0X2l0ZW1zW2ldLm5vZGUsICIvZGV2
L252bWUlZCIsICZpbmRleCkNCj4gPT0gMSkNCj4gICAgICsJCQlqc29uX29iamVjdF9hZGRfdmFs
dWVfaW50KGRldmljZV9hdHRycywNCj4gICAgICsJCQkJCQkiSW5kZXgiLA0KPiAgICAgKwkJCQkJ
CWluZGV4KTsNCj4gICAgICsNCj4gICAgICsJCWZvcm1hdChmb3JtYXR0ZXIsIHNpemVvZihmb3Jt
YXR0ZXIpLA0KPiAgICAgKwkJCWN0cmxfbGlzdF9pdGVtc1tpXS5jdHJsLm1uLA0KPiAgICAgKwkJ
CXNpemVvZihjdHJsX2xpc3RfaXRlbXNbaV0uY3RybC5tbikpOw0KPiAgICAgKw0KPiAgICAgKwkJ
anNvbl9vYmplY3RfYWRkX3ZhbHVlX3N0cmluZyhkZXZpY2VfYXR0cnMsDQo+ICAgICArCQkJCQkJ
Ik1vZGVsTnVtYmVyIiwNCj4gICAgICsJCQkJCQlmb3JtYXR0ZXIpOw0KPiAgICAgKw0KPiAgICAg
KwkJcHJvZHVjdCA9IG52bWVfcHJvZHVjdF9uYW1lKGluZGV4KTsNCj4gICAgICsNCj4gICAgICsJ
CWpzb25fb2JqZWN0X2FkZF92YWx1ZV9zdHJpbmcoZGV2aWNlX2F0dHJzLA0KPiAgICAgKwkJCQkJ
CSJQcm9kdWN0TmFtZSIsDQo+ICAgICArCQkJCQkJcHJvZHVjdCk7DQo+ICAgICArDQo+ICAgICAr
CQlmb3JtYXQoZm9ybWF0dGVyLCBzaXplb2YoZm9ybWF0dGVyKSwNCj4gICAgICsJCQljdHJsX2xp
c3RfaXRlbXNbaV0uY3RybC5zbiwNCj4gICAgICsJCQlzaXplb2YoY3RybF9saXN0X2l0ZW1zW2ld
LmN0cmwuc24pKTsNCj4gICAgICsNCj4gICAgICsJCWpzb25fb2JqZWN0X2FkZF92YWx1ZV9zdHJp
bmcoZGV2aWNlX2F0dHJzLA0KPiAgICAgKwkJCQkJCSJTZXJpYWxOdW1iZXIiLA0KPiAgICAgKwkJ
CQkJCWZvcm1hdHRlcik7DQo+ICAgICArDQo+ICAgICArCQlqc29uX2FycmF5X2FkZF92YWx1ZV9v
YmplY3QoY3RybF9kZXZpY2VzLCBkZXZpY2VfYXR0cnMpOw0KPiAgICAgKw0KPiAgICAgKwkJZnJl
ZSgodm9pZCAqKXByb2R1Y3QpOw0KPiAgICAgKwl9DQo+ICAgICArCWlmIChpKQ0KPiAgICAgKwkJ
anNvbl9vYmplY3RfYWRkX3ZhbHVlX2FycmF5KHJvb3QsICJDb250cm9sbGVycyIsDQo+IGN0cmxf
ZGV2aWNlcyk7DQo+ICAgICArCS8qTmFtZXNwYWNlcyovDQo+ICAgICArCW5zX2RldmljZXMgPSBq
c29uX2NyZWF0ZV9hcnJheSgpOw0KPiAgICAgKwlmb3IgKGogPSAwOyBqIDwgbnNfbGVuOyBqKysp
IHsNCj4gICAgICsJCWRldmljZV9hdHRycyA9IGpzb25fY3JlYXRlX29iamVjdCgpOw0KPiAgICAg
Kw0KPiAgICAgKwkJanNvbl9vYmplY3RfYWRkX3ZhbHVlX3N0cmluZyhkZXZpY2VfYXR0cnMsDQo+
ICAgICArCQkJCQkgICAgICJEZXZpY2VQYXRoIiwNCj4gICAgICsJCQkJCSAgICAgbnNfbGlzdF9p
dGVtc1tqXS5ub2RlKTsNCj4gICAgICsNCj4gICAgICsJCWlmIChzc2NhbmYobnNfbGlzdF9pdGVt
c1tqXS5ub2RlLCAiL2Rldi9udm1lJWQiLCAmaW5kZXgpID09DQo+IDEpDQo+ICAgICArCQkJanNv
bl9vYmplY3RfYWRkX3ZhbHVlX2ludChkZXZpY2VfYXR0cnMsDQo+ICAgICArCQkJCQkJICAiSW5k
ZXgiLA0KPiAgICAgKwkJCQkJCSAgaW5kZXgpOw0KPiAgICAgKw0KPiAgICAgKwkJcHJvZHVjdCA9
IG52bWVfcHJvZHVjdF9uYW1lKGluZGV4KTsNCj4gICAgICsNCj4gICAgICsJCWpzb25fb2JqZWN0
X2FkZF92YWx1ZV9zdHJpbmcoZGV2aWNlX2F0dHJzLA0KPiAgICAgKwkJCQkJICAgICAiUHJvZHVj
dE5hbWUiLA0KPiAgICAgKwkJCQkJICAgICBwcm9kdWN0KTsNCj4gICAgICsNCj4gICAgICsJCWpz
b25fYXJyYXlfYWRkX3ZhbHVlX29iamVjdChuc19kZXZpY2VzLCBkZXZpY2VfYXR0cnMpOw0KPiAg
ICAgKw0KPiAgICAgKwkJbGJhID0gMSA8PCBuc19saXN0X2l0ZW1zW2pdLm5zLmxiYWZbKG5zX2xp
c3RfaXRlbXNbal0ubnMuZmxiYXMgJg0KPiAweDBmKV0uZHM7DQo+ICAgICArCQluc3plID0gbGU2
NF90b19jcHUobnNfbGlzdF9pdGVtc1tqXS5ucy5uc3plKSAqIGxiYTsNCj4gICAgICsJCW51c2Ug
PSBsZTY0X3RvX2NwdShuc19saXN0X2l0ZW1zW2pdLm5zLm51c2UpICogbGJhOw0KPiAgICAgKwkJ
anNvbl9vYmplY3RfYWRkX3ZhbHVlX3VpbnQoZGV2aWNlX2F0dHJzLA0KPiAgICAgKwkJCQkJICAi
VXNlZEJ5dGVzIiwNCj4gICAgICsJCQkJCSAgbnVzZSk7DQo+ICAgICArCQlqc29uX29iamVjdF9h
ZGRfdmFsdWVfdWludChkZXZpY2VfYXR0cnMsDQo+ICAgICArCQkJCQkgICJNYXhpbXVtTEJBIiwN
Cj4gICAgICsNCj4gbGU2NF90b19jcHUobnNfbGlzdF9pdGVtc1tqXS5ucy5uc3plKSk7DQo+ICAg
ICArCQlqc29uX29iamVjdF9hZGRfdmFsdWVfdWludChkZXZpY2VfYXR0cnMsDQo+ICAgICArCQkJ
CQkgICJQaHlzaWNhbFNpemUiLA0KPiAgICAgKwkJCQkJICBuc3plKTsNCj4gICAgICsJCWpzb25f
b2JqZWN0X2FkZF92YWx1ZV91aW50KGRldmljZV9hdHRycywNCj4gICAgICsJCQkJCSAgIlNlY3Rv
clNpemUiLA0KPiAgICAgKwkJCQkJICBsYmEpOw0KPiAgICAgKw0KPiAgICAgKwkJZnJlZSgodm9p
ZCAqKXByb2R1Y3QpOw0KPiAgICAgKwl9DQo+ICAgICArCWlmIChqKQ0KPiAgICAgKwkJanNvbl9v
YmplY3RfYWRkX3ZhbHVlX2FycmF5KHJvb3QsICJOYW1lc3BhY2VzIiwNCj4gbnNfZGV2aWNlcyk7
DQo+ICAgICArCWpzb25fcHJpbnRfb2JqZWN0KHJvb3QsIE5VTEwpOw0KPiAgICAgKwlqc29uX2Zy
ZWVfb2JqZWN0KHJvb3QpOw0KPiAgICAgK30NCj4gICAgICsNCj4gICAgICt2b2lkIGpzb25fcHJp
bnRfY3RybF9saXN0X2l0ZW1zKHN0cnVjdCBsaXN0X2l0ZW0gKmxpc3RfaXRlbXMsIHVuc2lnbmVk
IGludA0KPiBsZW4pDQo+ICAgICArew0KPiAgICAgKwlzdHJ1Y3QganNvbl9vYmplY3QgKnJvb3Q7
DQo+ICAgICArCXN0cnVjdCBqc29uX2FycmF5ICpkZXZpY2VzOw0KPiAgICAgKwlzdHJ1Y3QganNv
bl9vYmplY3QgKmRldmljZV9hdHRyczsNCj4gICAgICsJY2hhciBmb3JtYXR0ZXJbNDFdID0geyAw
IH07DQo+ICAgICArCWludCBpbmRleCwgaSA9IDA7DQo+ICAgICArCWNoYXIgKnByb2R1Y3Q7DQo+
ICAgICArDQo+ICAgICArCXJvb3QgPSBqc29uX2NyZWF0ZV9vYmplY3QoKTsNCj4gICAgICAJZGV2
aWNlcyA9IGpzb25fY3JlYXRlX2FycmF5KCk7DQo+ICAgICAgCWZvciAoaSA9IDA7IGkgPCBsZW47
IGkrKykgew0KPiAgICAgIAkJZGV2aWNlX2F0dHJzID0ganNvbl9jcmVhdGVfb2JqZWN0KCk7DQo+
ICAgICBAQCAtMjIxOSw2ICsyMzYxLDQ3IEBAIHZvaWQganNvbl9wcmludF9saXN0X2l0ZW1zKHN0
cnVjdCBsaXN0X2l0ZW0NCj4gKmxpc3RfaXRlbXMsIHVuc2lnbmVkIGxlbikNCj4gDQo+ICAgICAg
CQlqc29uX2FycmF5X2FkZF92YWx1ZV9vYmplY3QoZGV2aWNlcywgZGV2aWNlX2F0dHJzKTsNCj4g
DQo+ICAgICArCQlmcmVlKCh2b2lkICopcHJvZHVjdCk7DQo+ICAgICArCX0NCj4gICAgICsJaWYg
KGkpDQo+ICAgICArCQlqc29uX29iamVjdF9hZGRfdmFsdWVfYXJyYXkocm9vdCwgIkNvbnRyb2xs
ZXJzIiwgZGV2aWNlcyk7DQo+ICAgICArCWpzb25fcHJpbnRfb2JqZWN0KHJvb3QsIE5VTEwpOw0K
PiAgICAgKwlqc29uX2ZyZWVfb2JqZWN0KHJvb3QpOw0KPiAgICAgK30NCj4gICAgICsNCj4gICAg
ICt2b2lkIGpzb25fcHJpbnRfbnNfbGlzdF9pdGVtcyhzdHJ1Y3QgbGlzdF9pdGVtICpsaXN0X2l0
ZW1zLCB1bnNpZ25lZCBpbnQNCj4gbGVuKQ0KPiAgICAgK3sNCj4gICAgICsJc3RydWN0IGpzb25f
b2JqZWN0ICpyb290Ow0KPiAgICAgKwlzdHJ1Y3QganNvbl9hcnJheSAqZGV2aWNlczsNCj4gICAg
ICsJc3RydWN0IGpzb25fb2JqZWN0ICpkZXZpY2VfYXR0cnM7DQo+ICAgICArCWludCBpbmRleCwg
aSA9IDA7DQo+ICAgICArCWNoYXIgKnByb2R1Y3Q7DQo+ICAgICArCWxvbmcgbG9uZyBsYmE7DQo+
ICAgICArCWRvdWJsZSBuc3plOw0KPiAgICAgKwlkb3VibGUgbnVzZTsNCj4gICAgICsNCj4gICAg
ICsJcm9vdCA9IGpzb25fY3JlYXRlX29iamVjdCgpOw0KPiAgICAgKwlkZXZpY2VzID0ganNvbl9j
cmVhdGVfYXJyYXkoKTsNCj4gICAgICsJZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7DQo+ICAg
ICArCQlkZXZpY2VfYXR0cnMgPSBqc29uX2NyZWF0ZV9vYmplY3QoKTsNCj4gICAgICsNCj4gICAg
ICsJCWpzb25fb2JqZWN0X2FkZF92YWx1ZV9zdHJpbmcoZGV2aWNlX2F0dHJzLA0KPiAgICAgKwkJ
CQkJICAgICAiRGV2aWNlUGF0aCIsDQo+ICAgICArCQkJCQkgICAgIGxpc3RfaXRlbXNbaV0ubm9k
ZSk7DQo+ICAgICArDQo+ICAgICArCQlpZiAoc3NjYW5mKGxpc3RfaXRlbXNbaV0ubm9kZSwgIi9k
ZXYvbnZtZSVkIiwgJmluZGV4KSA9PSAxKQ0KPiAgICAgKwkJCWpzb25fb2JqZWN0X2FkZF92YWx1
ZV9pbnQoZGV2aWNlX2F0dHJzLA0KPiAgICAgKwkJCQkJCSAgIkluZGV4IiwNCj4gICAgICsJCQkJ
CQkgIGluZGV4KTsNCj4gICAgICsNCj4gICAgICsJCXByb2R1Y3QgPSBudm1lX3Byb2R1Y3RfbmFt
ZShpbmRleCk7DQo+ICAgICArDQo+ICAgICArCQlqc29uX29iamVjdF9hZGRfdmFsdWVfc3RyaW5n
KGRldmljZV9hdHRycywNCj4gICAgICsJCQkJCSAgICAgIlByb2R1Y3ROYW1lIiwNCj4gICAgICsJ
CQkJCSAgICAgcHJvZHVjdCk7DQo+ICAgICArDQo+ICAgICArCQlqc29uX2FycmF5X2FkZF92YWx1
ZV9vYmplY3QoZGV2aWNlcywgZGV2aWNlX2F0dHJzKTsNCj4gICAgICsNCj4gICAgICAJCWxiYSA9
IDEgPDwgbGlzdF9pdGVtc1tpXS5ucy5sYmFmWyhsaXN0X2l0ZW1zW2ldLm5zLmZsYmFzICYNCj4g
MHgwZildLmRzOw0KPiAgICAgIAkJbnN6ZSA9IGxlNjRfdG9fY3B1KGxpc3RfaXRlbXNbaV0ubnMu
bnN6ZSkgKiBsYmE7DQo+ICAgICAgCQludXNlID0gbGU2NF90b19jcHUobGlzdF9pdGVtc1tpXS5u
cy5udXNlKSAqIGxiYTsNCj4gICAgIEBAIC0yMjM1LDExICsyNDE4LDEyIEBAIHZvaWQganNvbl9w
cmludF9saXN0X2l0ZW1zKHN0cnVjdCBsaXN0X2l0ZW0NCj4gKmxpc3RfaXRlbXMsIHVuc2lnbmVk
IGxlbikNCj4gICAgICAJCQkJCSAgIlNlY3RvclNpemUiLA0KPiAgICAgIAkJCQkJICBsYmEpOw0K
PiANCj4gICAgIC0JCWZyZWUoKHZvaWQqKXByb2R1Y3QpOw0KPiAgICAgKwkJZnJlZSgodm9pZCAq
KXByb2R1Y3QpOw0KPiAgICAgIAl9DQo+ICAgICAgCWlmIChpKQ0KPiAgICAgLQkJanNvbl9vYmpl
Y3RfYWRkX3ZhbHVlX2FycmF5KHJvb3QsICJEZXZpY2VzIiwgZGV2aWNlcyk7DQo+ICAgICArCQlq
c29uX29iamVjdF9hZGRfdmFsdWVfYXJyYXkocm9vdCwgIk5hbWVzcGFjZXMiLCBkZXZpY2VzKTsN
Cj4gICAgICAJanNvbl9wcmludF9vYmplY3Qocm9vdCwgTlVMTCk7DQo+ICAgICArCWpzb25fZnJl
ZV9vYmplY3Qocm9vdCk7DQo+ICAgICAgfQ0KPiANCj4gICAgICB2b2lkIGpzb25fbnZtZV9pZF9u
cyhzdHJ1Y3QgbnZtZV9pZF9ucyAqbnMsIHVuc2lnbmVkIGludCBtb2RlKQ0KPiAgICAgZGlmZiAt
LWdpdCBhL252bWUtcHJpbnQuaCBiL252bWUtcHJpbnQuaA0KPiAgICAgaW5kZXggYmZkYjAwNy4u
ZDRiZDAyNyAxMDA2NDQNCj4gICAgIC0tLSBhL252bWUtcHJpbnQuaA0KPiAgICAgKysrIGIvbnZt
ZS1wcmludC5oDQo+ICAgICBAQCAtMzYsNyArMzYsMTAgQEAgdm9pZCBzaG93X3Nhbml0aXplX2xv
ZyhzdHJ1Y3QNCj4gbnZtZV9zYW5pdGl6ZV9sb2dfcGFnZSAqc2FuaXRpemUsIHVuc2lnbmVkIGlu
dCBtb2QNCj4gICAgICB2b2lkIHNob3dfY3RybF9yZWdpc3RlcnModm9pZCAqYmFyLCB1bnNpZ25l
ZCBpbnQgbW9kZSwgYm9vbCBmYWJyaWNzKTsNCj4gICAgICB2b2lkIHNob3dfc2luZ2xlX3Byb3Bl
cnR5KGludCBvZmZzZXQsIHVpbnQ2NF90IHByb3AsIGludCBodW1hbik7DQo+ICAgICAgdm9pZCBz
aG93X252bWVfaWRfbnNfZGVzY3Modm9pZCAqZGF0YSk7DQo+ICAgICAtdm9pZCBzaG93X2xpc3Rf
aXRlbXMoc3RydWN0IGxpc3RfaXRlbSAqbGlzdF9pdGVtcywgdW5zaWduZWQgbGVuKTsNCj4gICAg
ICt2b2lkIHNob3dfbGlzdF9pdGVtcyhzdHJ1Y3QgbGlzdF9pdGVtICpjdHJsX2xpc3RfaXRlbXMs
IHVuc2lnbmVkIGludA0KPiBjdHJsX2xlbiwNCj4gICAgICsJCQkJc3RydWN0IGxpc3RfaXRlbSAq
bnNfbGlzdF9pdGVtcywgdW5zaWduZWQgaW50DQo+IG5zX2xlbik7DQo+ICAgICArdm9pZCBzaG93
X2N0cmxfbGlzdF9pdGVtcyhzdHJ1Y3QgbGlzdF9pdGVtICpsaXN0X2l0ZW1zLCB1bnNpZ25lZCBp
bnQgbGVuKTsNCj4gICAgICt2b2lkIHNob3dfbnNfbGlzdF9pdGVtcyhzdHJ1Y3QgbGlzdF9pdGVt
ICpsaXN0X2l0ZW1zLCB1bnNpZ25lZCBpbnQgbGVuKTsNCj4gICAgICB2b2lkIHNob3dfbnZtZV9z
dWJzeXN0ZW1fbGlzdChzdHJ1Y3Qgc3Vic3lzX2xpc3RfaXRlbSAqc2xpc3QsIGludCBuKTsNCj4g
ICAgICB2b2lkIHNob3dfbnZtZV9pZF9udm1zZXQoc3RydWN0IG52bWVfaWRfbnZtc2V0ICpudm1z
ZXQpOw0KPiAgICAgIHZvaWQgc2hvd19udm1lX2xpc3Rfc2Vjb25kYXJ5X2N0cmwoY29uc3Qgc3Ry
dWN0DQo+IG52bWVfc2Vjb25kYXJ5X2NvbnRyb2xsZXJzX2xpc3QgKnNjX2xpc3QsIF9fdTMyIGNv
dW50KTsNCj4gICAgIEBAIC02MSw3ICs2NCwxMCBAQCB2b2lkIGpzb25fZndfbG9nKHN0cnVjdCBu
dm1lX2Zpcm13YXJlX2xvZ19wYWdlDQo+ICpmd19sb2csIGNvbnN0IGNoYXIgKmRldm5hbWUpOw0K
PiAgICAgIHZvaWQganNvbl9jaGFuZ2VkX25zX2xpc3RfbG9nKHN0cnVjdCBudm1lX2NoYW5nZWRf
bnNfbGlzdF9sb2cgKmxvZywNCj4gY29uc3QgY2hhciAqZGV2bmFtZSk7DQo+ICAgICAgdm9pZCBq
c29uX2VuZHVyYW5jZV9sb2coc3RydWN0IG52bWVfZW5kdXJhbmNlX2dyb3VwX2xvZw0KPiAqZW5k
dXJhbmNlX2dyb3VwLA0KPiAgICAgIAkJCV9fdTE2IGdyb3VwX2lkLCBjb25zdCBjaGFyICpkZXZu
YW1lKTsNCj4gICAgIC12b2lkIGpzb25fcHJpbnRfbGlzdF9pdGVtcyhzdHJ1Y3QgbGlzdF9pdGVt
ICppdGVtcywgdW5zaWduZWQgYW1udCk7DQo+ICAgICArdm9pZCBqc29uX3ByaW50X2xpc3RfaXRl
bXMoc3RydWN0IGxpc3RfaXRlbSAqY3RybF9saXN0X2l0ZW1zLA0KPiAgICAgKwkJCQl1bnNpZ25l
ZCBpbnQgY3RybF9sZW4sIHN0cnVjdCBsaXN0X2l0ZW0NCj4gKm5zX2xpc3RfaXRlbXMsIHVuc2ln
bmVkIGludCBuc19sZW4pOw0KPiAgICAgK3ZvaWQganNvbl9wcmludF9jdHJsX2xpc3RfaXRlbXMo
c3RydWN0IGxpc3RfaXRlbSAqaXRlbXMsIHVuc2lnbmVkIGludA0KPiBhbW50KTsNCj4gICAgICt2
b2lkIGpzb25fcHJpbnRfbnNfbGlzdF9pdGVtcyhzdHJ1Y3QgbGlzdF9pdGVtICppdGVtcywgdW5z
aWduZWQgaW50IGFtbnQpOw0KPiAgICAgIHZvaWQganNvbl9udm1lX2lkX25zX2Rlc2NzKHZvaWQg
KmRhdGEpOw0KPiAgICAgIHZvaWQganNvbl9wcmludF9udm1lX3N1YnN5c3RlbV9saXN0KHN0cnVj
dCBzdWJzeXNfbGlzdF9pdGVtICpzbGlzdCwgaW50DQo+IG4pOw0KPiAgICAgIHZvaWQganNvbl9z
ZWxmX3Rlc3RfbG9nKHN0cnVjdCBudm1lX3NlbGZfdGVzdF9sb2cgKnNlbGZfdGVzdCwgY29uc3Qg
Y2hhcg0KPiAqZGV2bmFtZSk7DQo+ICAgICBkaWZmIC0tZ2l0IGEvbnZtZS5jIGIvbnZtZS5jDQo+
ICAgICBpbmRleCBmNGMwMjdiLi45M2Q4OTY2IDEwMDY0NA0KPiAgICAgLS0tIGEvbnZtZS5jDQo+
ICAgICArKysgYi9udm1lLmMNCj4gICAgIEBAIC0xNzM1LDcgKzE3MzUsMTkgQEAgc3RhdGljIGlu
dCBsaXN0X3N1YnN5cyhpbnQgYXJnYywgY2hhciAqKmFyZ3YsIHN0cnVjdA0KPiBjb21tYW5kICpj
bWQsDQo+ICAgICAgCXJldHVybiByZXQ7DQo+ICAgICAgfQ0KPiANCj4gICAgIC1zdGF0aWMgaW50
IGdldF9udm1lX2luZm8oaW50IGZkLCBzdHJ1Y3QgbGlzdF9pdGVtICppdGVtLCBjb25zdCBjaGFy
ICpub2RlKQ0KPiAgICAgK3N0YXRpYyBpbnQgZ2V0X2N0cmxfbnZtZV9pbmZvKGludCBmZCwgc3Ry
dWN0IGxpc3RfaXRlbSAqaXRlbSwgY29uc3QgY2hhcg0KPiAqbm9kZSkNCj4gICAgICt7DQo+ICAg
ICArCWludCBlcnI7DQo+ICAgICArDQo+ICAgICArCWVyciA9IG52bWVfaWRlbnRpZnlfY3RybChm
ZCwgJml0ZW0tPmN0cmwpOw0KPiAgICAgKwlpZiAoZXJyKQ0KPiAgICAgKwkJcmV0dXJuIGVycjsN
Cj4gICAgICsJc3RyY3B5KGl0ZW0tPm5vZGUsIG5vZGUpOw0KPiAgICAgKw0KPiAgICAgKwlyZXR1
cm4gMDsNCj4gICAgICt9DQo+ICAgICArDQo+ICAgICArc3RhdGljIGludCBnZXRfbnNfbnZtZV9p
bmZvKGludCBmZCwgc3RydWN0IGxpc3RfaXRlbSAqaXRlbSwgY29uc3QgY2hhcg0KPiAqbm9kZSkN
Cj4gICAgICB7DQo+ICAgICAgCWludCBlcnI7DQo+IA0KPiAgICAgQEAgLTE3NTcsOCArMTc2OSwy
OSBAQCBzdGF0aWMgaW50IGdldF9udm1lX2luZm8oaW50IGZkLCBzdHJ1Y3QgbGlzdF9pdGVtDQo+
ICppdGVtLCBjb25zdCBjaGFyICpub2RlKQ0KPiANCj4gICAgICBzdGF0aWMgY29uc3QgY2hhciAq
ZGV2ID0gIi9kZXYvIjsNCj4gDQo+ICAgICAtLyogQXNzdW1lIGV2ZXJ5IGJsb2NrIGRldmljZSBz
dGFydGluZyB3aXRoIC9kZXYvbnZtZSBpcyBhbiBudm1lDQo+IG5hbWVzcGFjZSAqLw0KPiAgICAg
LXN0YXRpYyBpbnQgc2Nhbl9kZXZfZmlsdGVyKGNvbnN0IHN0cnVjdCBkaXJlbnQgKmQpDQo+ICAg
ICArc3RhdGljIGludCBzY2FuX2N0cmxfZGV2X2ZpbHRlcihjb25zdCBzdHJ1Y3QgZGlyZW50ICpk
KQ0KPiAgICAgK3sNCj4gICAgICsJY2hhciBwYXRoWzI2NF07DQo+ICAgICArCXN0cnVjdCBzdGF0
IGNkOw0KPiAgICAgKwlpbnQgY3RybCwgbnMsIHBhcnQ7DQo+ICAgICArDQo+ICAgICArCWlmIChk
LT5kX25hbWVbMF0gPT0gJy4nKQ0KPiAgICAgKwkJcmV0dXJuIDA7DQo+ICAgICArDQo+ICAgICAr
CWlmIChzdHJzdHIoZC0+ZF9uYW1lLCAibnZtZSIpKSB7DQo+ICAgICArCQlzbnByaW50ZihwYXRo
LCBzaXplb2YocGF0aCksICIlcyVzIiwgZGV2LCBkLT5kX25hbWUpOw0KPiAgICAgKwkJaWYgKHN0
YXQocGF0aCwgJmNkKSkNCj4gICAgICsJCQlyZXR1cm4gMDsNCj4gICAgICsJCWlmICghU19JU0NI
UihjZC5zdF9tb2RlKSkNCj4gICAgICsJCQlyZXR1cm4gMDsNCj4gICAgICsJCWlmIChzc2NhbmYo
ZC0+ZF9uYW1lLCAibnZtZSVkbiVkcCVkIiwgJmN0cmwsICZucywgJnBhcnQpDQo+ID09IDMpDQo+
ICAgICArCQkJcmV0dXJuIDA7DQo+ICAgICArCQlyZXR1cm4gMTsNCj4gICAgICsJfQ0KPiAgICAg
KwlyZXR1cm4gMDsNCj4gICAgICt9DQo+ICAgICArDQo+ICAgICArc3RhdGljIGludCBzY2FuX25z
X2Rldl9maWx0ZXIoY29uc3Qgc3RydWN0IGRpcmVudCAqZCkNCj4gICAgICB7DQo+ICAgICAgCWNo
YXIgcGF0aFsyNjRdOw0KPiAgICAgIAlzdHJ1Y3Qgc3RhdCBiZDsNCj4gICAgIEBAIC0xNzgzLDIx
ICsxODE2LDI4IEBAIHN0YXRpYyBpbnQgc2Nhbl9kZXZfZmlsdGVyKGNvbnN0IHN0cnVjdCBkaXJl
bnQgKmQpDQo+ICAgICAgc3RhdGljIGludCBsaXN0KGludCBhcmdjLCBjaGFyICoqYXJndiwgc3Ry
dWN0IGNvbW1hbmQgKmNtZCwgc3RydWN0IHBsdWdpbg0KPiAqcGx1Z2luKQ0KPiAgICAgIHsNCj4g
ICAgICAJY2hhciBwYXRoWzI2NF07DQo+ICAgICAtCXN0cnVjdCBkaXJlbnQgKipkZXZpY2VzOw0K
PiAgICAgLQlzdHJ1Y3QgbGlzdF9pdGVtICpsaXN0X2l0ZW1zOw0KPiAgICAgLQl1bnNpZ25lZCBp
bnQgbGlzdF9jbnQgPSAwOw0KPiAgICAgLQlpbnQgZm10LCByZXQsIGZkLCBpLCBuOw0KPiAgICAg
KwlzdHJ1Y3QgZGlyZW50ICoqY3RybF9kZXZpY2VzID0gTlVMTCwgKipuc19kZXZpY2VzID0gTlVM
TDsNCj4gICAgICsJc3RydWN0IGxpc3RfaXRlbSAqY3RybF9saXN0X2l0ZW1zID0gTlVMTCwgKm5z
X2xpc3RfaXRlbXMgPSBOVUxMOw0KPiAgICAgKwl1bnNpZ25lZCBpbnQgbnNfbGlzdF9jbnQgPSAw
Ow0KPiAgICAgKwl1bnNpZ25lZCBpbnQgY3RybF9saXN0X2NudCA9IDA7DQo+ICAgICArCWludCBm
bXQsIHJldCwgZmQsIGksIG4gPSAwLCBtID0gMDsNCj4gICAgICAJY29uc3QgY2hhciAqZGVzYyA9
ICJSZXRyaWV2ZSBiYXNpYyBpbmZvcm1hdGlvbiBmb3IgdGhlIGdpdmVuIGRldmljZSI7DQo+ICAg
ICAgCXN0cnVjdCBjb25maWcgew0KPiAgICAgIAkJY2hhciAqb3V0cHV0X2Zvcm1hdDsNCj4gICAg
ICsJCWJvb2wgY29udHJvbGxlcjsNCj4gICAgICsJCWJvb2wgbmFtZXNwYWNlOw0KPiAgICAgIAl9
Ow0KPiANCj4gICAgICAJc3RydWN0IGNvbmZpZyBjZmcgPSB7DQo+ICAgICAgCQkub3V0cHV0X2Zv
cm1hdCA9ICJub3JtYWwiLA0KPiAgICAgKwkJLmNvbnRyb2xsZXIgPSBmYWxzZSwNCj4gICAgICsJ
CS5uYW1lc3BhY2UgPSBmYWxzZSwNCj4gICAgICAJfTsNCj4gDQo+ICAgICAgCWNvbnN0IHN0cnVj
dCBhcmdjb25maWdfY29tbWFuZGxpbmVfb3B0aW9ucyBvcHRzW10gPSB7DQo+ICAgICAgCQl7Im91
dHB1dC1mb3JtYXQiLCAnbycsICJGTVQiLCBDRkdfU1RSSU5HLA0KPiAmY2ZnLm91dHB1dF9mb3Jt
YXQsIHJlcXVpcmVkX2FyZ3VtZW50LCAiT3V0cHV0IEZvcm1hdDogbm9ybWFsfGpzb24ifSwNCj4g
ICAgICsJCXsiY29udHJvbGxlciIsICAgICdjJywgIiIsICAgIENGR19OT05FLCAgICZjZmcuY29u
dHJvbGxlciwNCj4gbm9fYXJndW1lbnQsICJJbmNsdWRlIGNvbnRyb2xsZXIgZGV2aWNlcyBpbiBv
dXRwdXQifSwNCj4gICAgICsJCXsibmFtZXNwYWNlIiwgICAgICduJywgIiIsICAgIENGR19OT05F
LCAgICZjZmcubmFtZXNwYWNlLA0KPiBub19hcmd1bWVudCwgIkluY2x1ZGUgbmFtZXNwYWNlIGRl
dmljZXMgaW4gb3V0cHV0In0sDQo+ICAgICAgCQl7TlVMTH0NCj4gICAgICAJfTsNCj4gDQo+ICAg
ICBAQCAtMTgwOSw1OCArMTg0OSwxMzIgQEAgc3RhdGljIGludCBsaXN0KGludCBhcmdjLCBjaGFy
ICoqYXJndiwgc3RydWN0DQo+IGNvbW1hbmQgKmNtZCwgc3RydWN0IHBsdWdpbiAqcGx1Z2kNCj4g
DQo+ICAgICAgCWlmIChmbXQgIT0gSlNPTiAmJiBmbXQgIT0gTk9STUFMKQ0KPiAgICAgIAkJcmV0
dXJuIC1FSU5WQUw7DQo+ICAgICArDQo+ICAgICArCWlmIChjZmcuY29udHJvbGxlciA9PSBmYWxz
ZSAmJiBjZmcubmFtZXNwYWNlID09IGZhbHNlKSB7DQo+ICAgICArCQljZmcuY29udHJvbGxlciA9
IHRydWU7DQo+ICAgICArCQljZmcubmFtZXNwYWNlID0gdHJ1ZTsNCj4gICAgICsJfQ0KPiANCj4g
ICAgIC0JbiA9IHNjYW5kaXIoZGV2LCAmZGV2aWNlcywgc2Nhbl9kZXZfZmlsdGVyLCBhbHBoYXNv
cnQpOw0KPiAgICAgLQlpZiAobiA8IDApIHsNCj4gICAgIC0JCWZwcmludGYoc3RkZXJyLCAibm8g
TlZNZSBkZXZpY2UocykgZGV0ZWN0ZWQuXG4iKTsNCj4gICAgIC0JCXJldHVybiBuOw0KPiAgICAg
KwlpZiAoY2ZnLmNvbnRyb2xsZXIpIHsNCj4gICAgICsJCW4gPSBzY2FuZGlyKGRldiwgJmN0cmxf
ZGV2aWNlcywgc2Nhbl9jdHJsX2Rldl9maWx0ZXIsDQo+IGFscGhhc29ydCk7DQo+ICAgICArCQlp
ZiAobiA8IDApIHsNCj4gICAgICsJCQlmcHJpbnRmKHN0ZGVyciwgIkZhaWxlZCB0byBzY2FuIGNv
bnRyb2xsZXJzOiAlc1xuIiwNCj4gICAgICsJCQkJCXN0cmVycm9yKGVycm5vKSk7DQo+ICAgICAr
CQkJcmV0ID0gLWVycm5vOw0KPiAgICAgKwkJCWdvdG8gY2xlYW51cF9kZXZpY2VzOw0KPiAgICAg
KwkJfQ0KPiAgICAgKw0KPiAgICAgKwkJY3RybF9saXN0X2l0ZW1zID0gY2FsbG9jKG4sIHNpemVv
ZigqY3RybF9saXN0X2l0ZW1zKSk7DQo+ICAgICArCQlpZiAoIWN0cmxfbGlzdF9pdGVtcykgew0K
PiAgICAgKwkJCWZwcmludGYoc3RkZXJyLCAiY2FuIG5vdCBhbGxvY2F0ZSBjb250cm9sbGVyIGxp
c3QNCj4gcGF5bG9hZFxuIik7DQo+ICAgICArCQkJcmV0ID0gLUVOT01FTTsNCj4gICAgICsJCQln
b3RvIGNsZWFudXBfZGV2aWNlczsNCj4gICAgICsJCX0NCj4gICAgICAJfQ0KPiAgICAgKwlpZiAo
Y2ZnLm5hbWVzcGFjZSkgew0KPiAgICAgKwkJbSA9IHNjYW5kaXIoZGV2LCAmbnNfZGV2aWNlcywg
c2Nhbl9uc19kZXZfZmlsdGVyLA0KPiBhbHBoYXNvcnQpOw0KPiAgICAgKwkJaWYgKG0gPCAwKSB7
DQo+ICAgICArCQkJZnByaW50ZihzdGRlcnIsICJGYWlsZWQgdG8gc2NhbiBuYW1lc3BhY2VzOiAl
c1xuIiwNCj4gICAgICsJCQkJCXN0cmVycm9yKGVycm5vKSk7DQo+ICAgICArCQkJcmV0ID0gLWVy
cm5vOw0KPiAgICAgKwkJCWdvdG8gY2xlYW51cF9kZXZpY2VzOw0KPiAgICAgKwkJfQ0KPiANCj4g
ICAgIC0JbGlzdF9pdGVtcyA9IGNhbGxvYyhuLCBzaXplb2YoKmxpc3RfaXRlbXMpKTsNCj4gICAg
IC0JaWYgKCFsaXN0X2l0ZW1zKSB7DQo+ICAgICAtCQlmcHJpbnRmKHN0ZGVyciwgImNhbiBub3Qg
YWxsb2NhdGUgY29udHJvbGxlciBsaXN0IHBheWxvYWRcbiIpOw0KPiAgICAgLQkJcmV0ID0gLUVO
T01FTTsNCj4gICAgIC0JCWdvdG8gY2xlYW51cF9kZXZpY2VzOw0KPiAgICAgKwkJbnNfbGlzdF9p
dGVtcyA9IGNhbGxvYyhtLCBzaXplb2YoKm5zX2xpc3RfaXRlbXMpKTsNCj4gICAgICsJCWlmICgh
bnNfbGlzdF9pdGVtcykgew0KPiAgICAgKwkJCWZwcmludGYoc3RkZXJyLCAiY2FuIG5vdCBhbGxv
Y2F0ZSBuYW1lc3BhY2UgbGlzdA0KPiBwYXlsb2FkXG4iKTsNCj4gICAgICsJCQlyZXQgPSAtRU5P
TUVNOw0KPiAgICAgKwkJCWdvdG8gY2xlYW51cF9kZXZpY2VzOw0KPiAgICAgKwkJfQ0KPiAgICAg
Kwl9DQo+ICAgICArDQo+ICAgICArCWlmIChuID09IDAgJiYgbSA9PSAwKSB7DQo+ICAgICArCQlm
cHJpbnRmKHN0ZGVyciwgIm5vIE5WTWUgZGV2aWNlKHMpIGRldGVjdGVkLlxuIik7DQo+ICAgICAr
CQlyZXR1cm4gMDsNCj4gICAgICAJfQ0KPiANCj4gICAgICAJZm9yIChpID0gMDsgaSA8IG47IGkr
Kykgew0KPiAgICAgLQkJc25wcmludGYocGF0aCwgc2l6ZW9mKHBhdGgpLCAiJXMlcyIsIGRldiwg
ZGV2aWNlc1tpXS0NCj4gPmRfbmFtZSk7DQo+ICAgICArCQlzbnByaW50ZihwYXRoLCBzaXplb2Yo
cGF0aCksICIlcyVzIiwgZGV2LCBjdHJsX2RldmljZXNbaV0tDQo+ID5kX25hbWUpOw0KPiAgICAg
IAkJZmQgPSBvcGVuKHBhdGgsIE9fUkRPTkxZKTsNCj4gICAgICAJCWlmIChmZCA8IDApIHsNCj4g
ICAgIC0JCQlmcHJpbnRmKHN0ZGVyciwgIkZhaWxlZCB0byBvcGVuICVzOiAlc1xuIiwgcGF0aCwN
Cj4gICAgICsJCQlmcHJpbnRmKHN0ZGVyciwgIkZhaWxlZCB0byBvcGVuIGNvbnRyb2xsZXIgJXM6
ICVzXG4iLA0KPiBwYXRoLA0KPiAgICAgIAkJCQkJc3RyZXJyb3IoZXJybm8pKTsNCj4gICAgICAJ
CQlyZXQgPSAtZXJybm87DQo+ICAgICAgCQkJZ290byBjbGVhbnVwX2xpc3RfaXRlbXM7DQo+ICAg
ICAgCQl9DQo+ICAgICAtCQlyZXQgPSBnZXRfbnZtZV9pbmZvKGZkLCAmbGlzdF9pdGVtc1tsaXN0
X2NudF0sIHBhdGgpOw0KPiAgICAgKw0KPiAgICAgKwkJcmV0ID0gZ2V0X2N0cmxfbnZtZV9pbmZv
KGZkLCAmY3RybF9saXN0X2l0ZW1zW2N0cmxfbGlzdF9jbnRdLA0KPiBwYXRoKTsNCj4gICAgICsN
Cj4gICAgICAJCWNsb3NlKGZkKTsNCj4gICAgICAJCWlmIChyZXQgPT0gMCkgew0KPiAgICAgLQkJ
CWxpc3RfY250Kys7DQo+ICAgICArCQkJY3RybF9saXN0X2NudCsrOw0KPiAgICAgKwkJfSBlbHNl
IGlmIChyZXQgPiAwKSB7DQo+ICAgICArCQkJZnByaW50ZihzdGRlcnIsICJDb250cm9sbGVyIGlk
ZW50aWZ5IGZhaWxlZFxuIik7DQo+ICAgICArCQkJCQlzaG93X252bWVfc3RhdHVzKHJldCk7DQo+
ICAgICArCQl9IGVsc2Ugew0KPiAgICAgKwkJCWZwcmludGYoc3RkZXJyLCAiJXM6IGZhaWxlZCB0
byBvYnRhaW4gY29udHJvbGxlciBpbmZvOg0KPiAlc1xuIiwNCj4gICAgICsJCQkJCXBhdGgsIHN0
cmVycm9yKC1yZXQpKTsNCj4gICAgICAJCX0NCj4gICAgIC0JCWVsc2UgaWYgKHJldCA+IDApIHsN
Cj4gICAgIC0JCQlmcHJpbnRmKHN0ZGVyciwgImlkZW50aWZ5IGZhaWxlZFxuIik7DQo+ICAgICAt
CQkJc2hvd19udm1lX3N0YXR1cyhyZXQpOw0KPiAgICAgKwl9DQo+ICAgICArDQo+ICAgICArCWZv
ciAoaSA9IDA7IGkgPCBtOyBpKyspIHsNCj4gICAgICsJCXNucHJpbnRmKHBhdGgsIHNpemVvZihw
YXRoKSwgIiVzJXMiLCBkZXYsIG5zX2RldmljZXNbaV0tDQo+ID5kX25hbWUpOw0KPiAgICAgKwkJ
ZmQgPSBvcGVuKHBhdGgsIE9fUkRPTkxZKTsNCj4gICAgICsJCWlmIChmZCA8IDApIHsNCj4gICAg
ICsJCQlmcHJpbnRmKHN0ZGVyciwgIkZhaWxlZCB0byBvcGVuIG5hbWVzcGFjZSAlczogJXNcbiIs
DQo+IHBhdGgsDQo+ICAgICArCQkJCQlzdHJlcnJvcihlcnJubykpOw0KPiAgICAgKwkJCXJldCA9
IC1lcnJubzsNCj4gICAgICsJCQlnb3RvIGNsZWFudXBfbGlzdF9pdGVtczsNCj4gICAgICAJCX0N
Cj4gICAgIC0JCWVsc2Ugew0KPiAgICAgLQkJCWZwcmludGYoc3RkZXJyLCAiJXM6IGZhaWxlZCB0
byBvYnRhaW4gbnZtZSBpbmZvOiAlc1xuIiwNCj4gICAgICsNCj4gICAgICsJCXJldCA9IGdldF9u
c19udm1lX2luZm8oZmQsICZuc19saXN0X2l0ZW1zW25zX2xpc3RfY250XSwNCj4gcGF0aCk7DQo+
ICAgICArDQo+ICAgICArCQljbG9zZShmZCk7DQo+ICAgICArCQlpZiAocmV0ID09IDApIHsNCj4g
ICAgICsJCQluc19saXN0X2NudCsrOw0KPiAgICAgKwkJfSBlbHNlIGlmIChyZXQgPiAwKSB7DQo+
ICAgICArCQkJZnByaW50ZihzdGRlcnIsICJOYW1lc3BhY2UgaWRlbnRpZnkgZmFpbGVkXG4iKTsN
Cj4gICAgICsJCQkJCXNob3dfbnZtZV9zdGF0dXMocmV0KTsNCj4gICAgICsJCX0gZWxzZSB7DQo+
ICAgICArCQkJZnByaW50ZihzdGRlcnIsICIlczogZmFpbGVkIHRvIG9idGFpbiBuYW1lc3BhY2Ug
aW5mbzoNCj4gJXNcbiIsDQo+ICAgICAgCQkJCQlwYXRoLCBzdHJlcnJvcigtcmV0KSk7DQo+ICAg
ICAgCQl9DQo+ICAgICAgCX0NCj4gDQo+ICAgICAtCWlmIChsaXN0X2NudCkgew0KPiAgICAgKwlp
ZiAoY2ZnLmNvbnRyb2xsZXIgJiYgY2ZnLm5hbWVzcGFjZSkgew0KPiAgICAgKwkJaWYgKGZtdCA9
PSBKU09OKQ0KPiAgICAgKwkJCWpzb25fcHJpbnRfbGlzdF9pdGVtcyhjdHJsX2xpc3RfaXRlbXMs
IGN0cmxfbGlzdF9jbnQsDQo+IG5zX2xpc3RfaXRlbXMsIG5zX2xpc3RfY250KTsNCj4gICAgICsJ
CWVsc2UNCj4gICAgICsJCQlzaG93X2xpc3RfaXRlbXMoY3RybF9saXN0X2l0ZW1zLCBjdHJsX2xp
c3RfY250LA0KPiBuc19saXN0X2l0ZW1zLCBuc19saXN0X2NudCk7DQo+ICAgICArCX0gZWxzZSBp
ZiAoY2ZnLmNvbnRyb2xsZXIpIHsNCj4gICAgICsJCWlmIChmbXQgPT0gSlNPTikNCj4gICAgICsJ
CQlqc29uX3ByaW50X2N0cmxfbGlzdF9pdGVtcyhjdHJsX2xpc3RfaXRlbXMsDQo+IGN0cmxfbGlz
dF9jbnQpOw0KPiAgICAgKwkJZWxzZQ0KPiAgICAgKwkJCXNob3dfY3RybF9saXN0X2l0ZW1zKGN0
cmxfbGlzdF9pdGVtcywgY3RybF9saXN0X2NudCk7DQo+ICAgICArCX0gZWxzZSBpZiAoY2ZnLm5h
bWVzcGFjZSkgew0KPiAgICAgIAkJaWYgKGZtdCA9PSBKU09OKQ0KPiAgICAgLQkJCWpzb25fcHJp
bnRfbGlzdF9pdGVtcyhsaXN0X2l0ZW1zLCBsaXN0X2NudCk7DQo+ICAgICArCQkJanNvbl9wcmlu
dF9uc19saXN0X2l0ZW1zKG5zX2xpc3RfaXRlbXMsIG5zX2xpc3RfY250KTsNCj4gICAgICAJCWVs
c2UNCj4gICAgIC0JCQlzaG93X2xpc3RfaXRlbXMobGlzdF9pdGVtcywgbGlzdF9jbnQpOw0KPiAg
ICAgKwkJCXNob3dfbnNfbGlzdF9pdGVtcyhuc19saXN0X2l0ZW1zLCBuc19saXN0X2NudCk7DQo+
ICAgICAgCX0NCj4gDQo+ICAgICAtIGNsZWFudXBfbGlzdF9pdGVtczoNCj4gICAgIC0JZnJlZShs
aXN0X2l0ZW1zKTsNCj4gICAgICtjbGVhbnVwX2xpc3RfaXRlbXM6DQo+ICAgICArCWlmIChjdHJs
X2xpc3RfaXRlbXMpDQo+ICAgICArCQlmcmVlKGN0cmxfbGlzdF9pdGVtcyk7DQo+ICAgICArCWlm
IChuc19saXN0X2l0ZW1zKQ0KPiAgICAgKwkJZnJlZShuc19saXN0X2l0ZW1zKTsNCj4gDQo+ICAg
ICAtIGNsZWFudXBfZGV2aWNlczoNCj4gICAgIC0JZm9yIChpID0gMDsgaSA8IG47IGkrKykNCj4g
ICAgIC0JCWZyZWUoZGV2aWNlc1tpXSk7DQo+ICAgICAtCWZyZWUoZGV2aWNlcyk7DQo+ICAgICAr
Y2xlYW51cF9kZXZpY2VzOg0KPiAgICAgKwlpZiAoY3RybF9kZXZpY2VzKSB7DQo+ICAgICArCQlm
b3IgKGkgPSAwOyBpIDwgbjsgaSsrKQ0KPiAgICAgKwkJCWZyZWUoY3RybF9kZXZpY2VzW2ldKTsN
Cj4gICAgICsJCWZyZWUoY3RybF9kZXZpY2VzKTsNCj4gICAgICsJfQ0KPiAgICAgKwlpZiAobnNf
ZGV2aWNlcykgew0KPiAgICAgKwkJZm9yIChpID0gMDsgaSA8IG07IGkrKykNCj4gICAgICsJCQlm
cmVlKG5zX2RldmljZXNbaV0pOw0KPiAgICAgKwkJZnJlZShuc19kZXZpY2VzKTsNCj4gICAgICsJ
fQ0KPiANCj4gICAgICAJcmV0dXJuIHJldDsNCj4gICAgICB9DQo+ICAgICAtLQ0KPiAgICAgMS44
LjMuMQ0KPiANCj4gICAgIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fDQo+ICAgICBMaW51eC1udm1lIG1haWxpbmcgbGlzdA0KPiAgICAgTGludXgtbnZtZUBs
aXN0cy5pbmZyYWRlYWQub3JnDQo+ICAgICBodHRwOi8vbGlzdHMuaW5mcmFkZWFkLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2xpbnV4LW52bWUNCj4gDQo+IA0KPiBfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXw0KPiBMaW51eC1udm1lIG1haWxpbmcgbGlzdA0KPiBM
aW51eC1udm1lQGxpc3RzLmluZnJhZGVhZC5vcmcNCj4gaHR0cDovL2xpc3RzLmluZnJhZGVhZC5v
cmcvbWFpbG1hbi9saXN0aW5mby9saW51eC1udm1lDQpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpMaW51eC1udm1lIG1haWxpbmcgbGlzdApMaW51eC1udm1l
QGxpc3RzLmluZnJhZGVhZC5vcmcKaHR0cDovL2xpc3RzLmluZnJhZGVhZC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9saW51eC1udm1lCg==
