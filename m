Return-Path: <linux-nvme-bounces+lists+linux-nvme=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-nvme@lfdr.de
Delivered-To: lists+linux-nvme@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id C1E0C1FAE10
	for <lists+linux-nvme@lfdr.de>; Tue, 16 Jun 2020 12:34:26 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:Content-Type:
	Content-Transfer-Encoding:Cc:List-Subscribe:List-Help:List-Post:List-Archive:
	List-Unsubscribe:List-Id:In-Reply-To:MIME-Version:References:Message-ID:
	Subject:To:From:Date:Reply-To:Content-ID:Content-Description:Resent-Date:
	Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Owner;
	 bh=uQeV36T0PDS83CpZ9VRbDBkEZb7AM81twxfaTGYG89Q=; b=O8wA63lZ1Jc1EJ8x0Gdvf3kKv
	kAZQT3eFQILT6lrLTzKxzhwTw76n2fKjxrgpinHpVSdwLDuU1tR15PKdHjEMpOaOUJUJ8/N7Ae1ST
	fPIRFza8fhCmsZQNWKqfGGXhNBn/nZpN2CLGi5xZmq6ecf5Y/nBqVYnMvmh385KXX81yZLEGzJKkK
	bSkWkwjw4duEeZT2ahxGGpOjZXKPIJ6nvyhCnkFZjmEblIk8vy5tpMwGiCxtJbbsSG/wzKsqv9rCN
	+/16WHs8NHOwoHOKs3tQFRVZ4ClvYmaYFyrD8EtKmbIDC2EucQYn7Sz/XpjdfXO/DvccAUSoCpD90
	Ofb5Z5Vbw==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92.3 #3 (Red Hat Linux))
	id 1jl8v5-0005ND-9c; Tue, 16 Jun 2020 10:34:19 +0000
Received: from mail-wr1-x444.google.com ([2a00:1450:4864:20::444])
 by bombadil.infradead.org with esmtps (Exim 4.92.3 #3 (Red Hat Linux))
 id 1jl8uv-0005MQ-Hf
 for linux-nvme@lists.infradead.org; Tue, 16 Jun 2020 10:34:15 +0000
Received: by mail-wr1-x444.google.com with SMTP id x13so20187100wrv.4
 for <linux-nvme@lists.infradead.org>; Tue, 16 Jun 2020 03:34:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=javigon-com.20150623.gappssmtp.com; s=20150623;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:content-transfer-encoding:in-reply-to;
 bh=lrfk9qgDpEFuSBy7zeW+UJ9+TFa06DoH8CwpAG8Iv9s=;
 b=A39kXXUnRWWLnlI8Hot9Whg4jj4ZnCuf7Cy9guW9IJMUHF/dpF/+WtFfKKV28uwCfY
 2m7OFF1/lDOXrT1+ElTZMPX9ZvPAK5KeQh3N01h1kS6c9aB8d4VtGENkYHaiuvzLyNYV
 RQ9EcEhPeYnb8NZ9Dz42Rz5qwGqTzUByUFqc6+aWSb3+rdVlTpsIpJVEsi1Fre+n0QTH
 hJCnnwrAMI4shWCIeScPHD5AIOJCXUvXXpRrD1LF2r56twXBEqyYMxSsmk4i0ATrbXpc
 5hmdzDdzleqkqsVY5f3UUMTrPiJ0zgzHWAgjc3wfd7Phf/gOmdoYkDnE5iz/NDQ8A7JT
 +lDg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:content-transfer-encoding
 :in-reply-to;
 bh=lrfk9qgDpEFuSBy7zeW+UJ9+TFa06DoH8CwpAG8Iv9s=;
 b=POitKFWl5LV8Wc1ZUzVXtZy+xhnPuD37bKJISsdTpc55AGD/dXmp9GBijEw6fJ28SY
 HbUvUk/w2jqKEAVDSH4lzTm6WnvvlTowgtZaFuQVGvjL56LPvMRF8xAEP0kwjtOBtpEk
 ZLMUG8+miSIgCX+hn6rLXHhhbMXbdtOQ8DGMN/+EaxoHgArPouDZsJ1ajSpReaQWKLsQ
 BRhavtVJyTfWNX2b1uqeyCdKFIWn5td2wqsEJNH+OzhEqAxhoarlLyJ7HmXScQ5Nb8Tx
 BNI35n41ow9RNUMNafYWKK68UralGN3dtFy5hm8OjQvxd9Q8L7cVZuCPNtrHLVKttWs4
 1G6A==
X-Gm-Message-State: AOAM530d1E3aTZVHcPbFv/KR+MJJ71qs9ccHaxnZmdcd4Yy3eevQ1TWL
 /qfWN8pQOyb92HmthSGUkJgM+qQVLaPgZA==
X-Google-Smtp-Source: ABdhPJy9j67Yw1AphLIRoPMaCZjhkzmEnLApdjHv7V8th5eDhher4MvgCw0hGN6Qf6fOdRRu/hVoZQ==
X-Received: by 2002:adf:ff82:: with SMTP id j2mr2240892wrr.375.1592303647889; 
 Tue, 16 Jun 2020 03:34:07 -0700 (PDT)
Received: from localhost ([194.62.217.57])
 by smtp.gmail.com with ESMTPSA id y5sm29645199wrs.63.2020.06.16.03.34.06
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 16 Jun 2020 03:34:07 -0700 (PDT)
Date: Tue, 16 Jun 2020 12:34:06 +0200
From: Javier =?utf-8?B?R29uesOhbGV6?= <javier@javigon.com>
To: Keith Busch <keith.busch@wdc.com>
Subject: Re: [PATCH 4/5] nvme: support for multi-command set effects
Message-ID: <20200616103406.ndlphhmwjzw2x2hc@mpHalley.local>
References: <20200615233424.13458-1-keith.busch@wdc.com>
 <20200615233424.13458-5-keith.busch@wdc.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20200615233424.13458-5-keith.busch@wdc.com>
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20200616_033409_588169_C4A46432 
X-CRM114-Status: GOOD (  15.28  )
X-Spam-Score: 0.0 (/)
X-Spam-Report: SpamAssassin version 3.4.4 on bombadil.infradead.org summary:
 Content analysis details:   (0.0 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 RCVD_IN_DNSWL_NONE     RBL: Sender listed at https://www.dnswl.org/,
 no trust [2a00:1450:4864:20:0:0:0:444 listed in]
 [list.dnswl.org]
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 0.0 SPF_NONE               SPF: sender does not publish an SPF Record
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
X-BeenThere: linux-nvme@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-nvme.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-nvme>,
 <mailto:linux-nvme-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-nvme/>
List-Post: <mailto:linux-nvme@lists.infradead.org>
List-Help: <mailto:linux-nvme-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-nvme>,
 <mailto:linux-nvme-request@lists.infradead.org?subject=subscribe>
Cc: Jens Axboe <axboe@kernel.dk>, Damien Le Moal <damien.lemoal@wdc.com>,
 Sagi Grimberg <sagi@grimberg.me>, linux-nvme@lists.infradead.org,
 linux-block@vger.kernel.org, Christoph Hellwig <hch@lst.de>,
 Matias =?utf-8?B?QmrDuHJsaW5n?= <matias.bjorling@wdc.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Sender: "linux-nvme" <linux-nvme-bounces@lists.infradead.org>
Errors-To: linux-nvme-bounces+lists+linux-nvme=lfdr.de@lists.infradead.org

T24gMTYuMDYuMjAyMCAwODozNCwgS2VpdGggQnVzY2ggd3JvdGU6Cj5UaGUgQ29tbWFuZHMgU3Vw
cG9ydGVkIGFuZCBFZmZlY3RzIGxvZyBwYWdlIHdhcyBleHRlbmRlZCB3aXRoIGEgQ1NJCj5maWVs
ZCB0aGF0IGVuYWJsZXMgdGhlIGhvc3QgdG8gcXVlcnkgdGhlIGxvZyBwYWdlIGZvciBlYWNoIGNv
bW1hbmQgc2V0Cj5zdXBwb3J0ZWQuIFJldHJpZXZlIHRoaXMgbG9nIHBhZ2UgZm9yIGVhY2ggY29t
bWFuZCBzZXQgdGhhdCBhbiBhdHRhY2hlZAo+bmFtZXNwYWNlIHN1cHBvcnRzLCBhbmQgc2F2ZSBh
IHBvaW50ZXIgdG8gdGhhdCBsb2cgaW4gdGhlIG5hbWVzcGFjZSBoZWFkLgo+Cj5TaWduZWQtb2Zm
LWJ5OiBLZWl0aCBCdXNjaCA8a2VpdGguYnVzY2hAd2RjLmNvbT4KPi0tLQo+IGRyaXZlcnMvbnZt
ZS9ob3N0L2NvcmUuYyAgICAgIHwgNzkgKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0t
LS0KPiBkcml2ZXJzL252bWUvaG9zdC9od21vbi5jICAgICB8ICAyICstCj4gZHJpdmVycy9udm1l
L2hvc3QvbGlnaHRudm0uYyAgfCAgNCArLQo+IGRyaXZlcnMvbnZtZS9ob3N0L211bHRpcGF0aC5j
IHwgIDIgKy0KPiBkcml2ZXJzL252bWUvaG9zdC9udm1lLmggICAgICB8IDExICsrKystCj4gaW5j
bHVkZS9saW51eC9udm1lLmggICAgICAgICAgfCAgNCArLQo+IDYgZmlsZXMgY2hhbmdlZCwgNzcg
aW5zZXJ0aW9ucygrKSwgMjUgZGVsZXRpb25zKC0pCj4KPmRpZmYgLS1naXQgYS9kcml2ZXJzL252
bWUvaG9zdC9jb3JlLmMgYi9kcml2ZXJzL252bWUvaG9zdC9jb3JlLmMKPmluZGV4IDJmNzc0ZDFl
MmFjYi4uNThmMTM3YjlmMmM1IDEwMDY0NAo+LS0tIGEvZHJpdmVycy9udm1lL2hvc3QvY29yZS5j
Cj4rKysgYi9kcml2ZXJzL252bWUvaG9zdC9jb3JlLmMKPkBAIC0xMzY0LDggKzEzNjQsOCBAQCBz
dGF0aWMgdTMyIG52bWVfcGFzc3RocnVfc3RhcnQoc3RydWN0IG52bWVfY3RybCAqY3RybCwgc3Ry
dWN0IG52bWVfbnMgKm5zLAo+IAl1MzIgZWZmZWN0cyA9IDA7Cj4KPiAJaWYgKG5zKSB7Cj4tCQlp
ZiAoY3RybC0+ZWZmZWN0cykKPi0JCQllZmZlY3RzID0gbGUzMl90b19jcHUoY3RybC0+ZWZmZWN0
cy0+aW9jc1tvcGNvZGVdKTsKPisJCWlmIChucy0+aGVhZC0+ZWZmZWN0cykKPisJCQllZmZlY3Rz
ID0gbGUzMl90b19jcHUobnMtPmhlYWQtPmVmZmVjdHMtPmlvY3Nbb3Bjb2RlXSk7Cj4gCQlpZiAo
ZWZmZWN0cyAmIH4oTlZNRV9DTURfRUZGRUNUU19DU1VQUCB8IE5WTUVfQ01EX0VGRkVDVFNfTEJD
QykpCj4gCQkJZGV2X3dhcm4oY3RybC0+ZGV2aWNlLAo+IAkJCQkgIklPIGNvbW1hbmQ6JTAyeCBo
YXMgdW5oYW5kbGVkIGVmZmVjdHM6JTA4eFxuIiwKPkBAIC0yODQ1LDcgKzI4NDUsNyBAQCBzdGF0
aWMgaW50IG52bWVfaW5pdF9zdWJzeXN0ZW0oc3RydWN0IG52bWVfY3RybCAqY3RybCwgc3RydWN0
IG52bWVfaWRfY3RybCAqaWQpCj4gCXJldHVybiByZXQ7Cj4gfQo+Cj4taW50IG52bWVfZ2V0X2xv
ZyhzdHJ1Y3QgbnZtZV9jdHJsICpjdHJsLCB1MzIgbnNpZCwgdTggbG9nX3BhZ2UsIHU4IGxzcCwK
PitpbnQgbnZtZV9nZXRfbG9nKHN0cnVjdCBudm1lX2N0cmwgKmN0cmwsIHUzMiBuc2lkLCB1OCBs
b2dfcGFnZSwgdTggbHNwLCB1OCBjc2ksCj4gCQl2b2lkICpsb2csIHNpemVfdCBzaXplLCB1NjQg
b2Zmc2V0KQo+IHsKPiAJc3RydWN0IG52bWVfY29tbWFuZCBjID0geyB9Owo+QEAgLTI4NTksMjcg
KzI4NTksNTUgQEAgaW50IG52bWVfZ2V0X2xvZyhzdHJ1Y3QgbnZtZV9jdHJsICpjdHJsLCB1MzIg
bnNpZCwgdTggbG9nX3BhZ2UsIHU4IGxzcCwKPiAJYy5nZXRfbG9nX3BhZ2UubnVtZHUgPSBjcHVf
dG9fbGUxNihkd2xlbiA+PiAxNik7Cj4gCWMuZ2V0X2xvZ19wYWdlLmxwb2wgPSBjcHVfdG9fbGUz
Mihsb3dlcl8zMl9iaXRzKG9mZnNldCkpOwo+IAljLmdldF9sb2dfcGFnZS5scG91ID0gY3B1X3Rv
X2xlMzIodXBwZXJfMzJfYml0cyhvZmZzZXQpKTsKPisJYy5nZXRfbG9nX3BhZ2UuY3NpID0gY3Np
Owo+Cj4gCXJldHVybiBudm1lX3N1Ym1pdF9zeW5jX2NtZChjdHJsLT5hZG1pbl9xLCAmYywgbG9n
LCBzaXplKTsKPiB9Cj4KPi1zdGF0aWMgaW50IG52bWVfZ2V0X2VmZmVjdHNfbG9nKHN0cnVjdCBu
dm1lX2N0cmwgKmN0cmwpCj4rc3RydWN0IG52bWVfY2VsICpudm1lX2ZpbmRfY2VsKHN0cnVjdCBu
dm1lX2N0cmwgKmN0cmwsIHU4IGNzaSkKPiB7Cj4rCXN0cnVjdCBudm1lX2NlbCAqY2VsLCAqcmV0
ID0gTlVMTDsKPisKPisJc3Bpbl9sb2NrKCZjdHJsLT5sb2NrKTsKPisJbGlzdF9mb3JfZWFjaF9l
bnRyeShjZWwsICZjdHJsLT5jZWxzLCBlbnRyeSkgewo+KwkJaWYgKGNlbC0+Y3NpID09IGNzaSkg
ewo+KwkJCXJldCA9IGNlbDsKPisJCQlicmVhazsKPisJCX0KPisJfQo+KwlzcGluX3VubG9jaygm
Y3RybC0+bG9jayk7Cj4rCj4rCXJldHVybiByZXQ7Cj4rfQo+Kwo+K3N0YXRpYyBpbnQgbnZtZV9n
ZXRfZWZmZWN0c19sb2coc3RydWN0IG52bWVfY3RybCAqY3RybCwgdTggY3NpLAo+KwkJCQlzdHJ1
Y3QgbnZtZV9lZmZlY3RzX2xvZyAqKmxvZykKPit7Cj4rCXN0cnVjdCBudm1lX2NlbCAqY2VsID0g
bnZtZV9maW5kX2NlbChjdHJsLCBjc2kpOwo+IAlpbnQgcmV0Owo+Cj4tCWlmICghY3RybC0+ZWZm
ZWN0cykKPi0JCWN0cmwtPmVmZmVjdHMgPSBremFsbG9jKHNpemVvZigqY3RybC0+ZWZmZWN0cyks
IEdGUF9LRVJORUwpOwo+KwlpZiAoY2VsKQo+KwkJZ290byBvdXQ7Cj4KPi0JaWYgKCFjdHJsLT5l
ZmZlY3RzKQo+LQkJcmV0dXJuIDA7Cj4rCWNlbCA9IGt6YWxsb2Moc2l6ZW9mKCpjZWwpLCBHRlBf
S0VSTkVMKTsKPisJaWYgKCFjZWwpCj4rCQlyZXR1cm4gLUVOT01FTTsKPgo+LQlyZXQgPSBudm1l
X2dldF9sb2coY3RybCwgTlZNRV9OU0lEX0FMTCwgTlZNRV9MT0dfQ01EX0VGRkVDVFMsIDAsCj4t
CQkJY3RybC0+ZWZmZWN0cywgc2l6ZW9mKCpjdHJsLT5lZmZlY3RzKSwgMCk7Cj4rCXJldCA9IG52
bWVfZ2V0X2xvZyhjdHJsLCBOVk1FX05TSURfQUxMLCBOVk1FX0xPR19DTURfRUZGRUNUUywgMCwg
Y3NpLAo+KwkJCSZjZWwtPmxvZywgc2l6ZW9mKGNlbC0+bG9nKSwgMCk7Cj4gCWlmIChyZXQpIHsK
Pi0JCWtmcmVlKGN0cmwtPmVmZmVjdHMpOwo+LQkJY3RybC0+ZWZmZWN0cyA9IE5VTEw7Cj4rCQlr
ZnJlZShjZWwpOwo+KwkJcmV0dXJuIHJldDsKPiAJfQo+LQlyZXR1cm4gcmV0Owo+Kwo+KwljZWwt
PmNzaSA9IGNzaTsKPisKPisJc3Bpbl9sb2NrKCZjdHJsLT5sb2NrKTsKPisJbGlzdF9hZGRfdGFp
bCgmY2VsLT5lbnRyeSwgJmN0cmwtPmNlbHMpOwo+KwlzcGluX3VubG9jaygmY3RybC0+bG9jayk7
Cj4rb3V0Ogo+KwkqbG9nID0gJmNlbC0+bG9nOwo+KwlyZXR1cm4gMDsKPiB9Cj4KPiAvKgo+QEAg
LTI5MTIsNyArMjk0MCw3IEBAIGludCBudm1lX2luaXRfaWRlbnRpZnkoc3RydWN0IG52bWVfY3Ry
bCAqY3RybCkKPiAJfQo+Cj4gCWlmIChpZC0+bHBhICYgTlZNRV9DVFJMX0xQQV9DTURfRUZGRUNU
U19MT0cpIHsKPi0JCXJldCA9IG52bWVfZ2V0X2VmZmVjdHNfbG9nKGN0cmwpOwo+KwkJcmV0ID0g
bnZtZV9nZXRfZWZmZWN0c19sb2coY3RybCwgTlZNRV9DU0lfTlZNLCAmY3RybC0+ZWZmZWN0cyk7
Cj4gCQlpZiAocmV0IDwgMCkKPiAJCQlnb3RvIG91dF9mcmVlOwo+IAl9Cj5AQCAtMzU0NSw2ICsz
NTczLDEzIEBAIHN0YXRpYyBzdHJ1Y3QgbnZtZV9uc19oZWFkICpudm1lX2FsbG9jX25zX2hlYWQo
c3RydWN0IG52bWVfY3RybCAqY3RybCwKPiAJCWdvdG8gb3V0X2NsZWFudXBfc3JjdTsKPiAJfQo+
Cj4rCWlmIChoZWFkLT5pZHMuY3NpKSB7Cj4rCQlyZXQgPSBudm1lX2dldF9lZmZlY3RzX2xvZyhj
dHJsLCBoZWFkLT5pZHMuY3NpLCAmaGVhZC0+ZWZmZWN0cyk7Cj4rCQlpZiAocmV0KQo+KwkJCWdv
dG8gb3V0X2NsZWFudXBfc3JjdTsKPisJfSBlbHNlCj4rCQloZWFkLT5lZmZlY3RzID0gY3RybC0+
ZWZmZWN0czsKPisKPiAJcmV0ID0gbnZtZV9tcGF0aF9hbGxvY19kaXNrKGN0cmwsIGhlYWQpOwo+
IAlpZiAocmV0KQo+IAkJZ290byBvdXRfY2xlYW51cF9zcmN1Owo+QEAgLTM4ODUsOCArMzkyMCw4
IEBAIHN0YXRpYyB2b2lkIG52bWVfY2xlYXJfY2hhbmdlZF9uc19sb2coc3RydWN0IG52bWVfY3Ry
bCAqY3RybCkKPiAJICogcmFjZWQgd2l0aCB1cyBpbiByZWFkaW5nIHRoZSBsb2cgcGFnZSwgd2hp
Y2ggY291bGQgY2F1c2UgdXMgdG8gbWlzcwo+IAkgKiB1cGRhdGVzLgo+IAkgKi8KPi0JZXJyb3Ig
PSBudm1lX2dldF9sb2coY3RybCwgTlZNRV9OU0lEX0FMTCwgTlZNRV9MT0dfQ0hBTkdFRF9OUywg
MCwgbG9nLAo+LQkJCWxvZ19zaXplLCAwKTsKPisJZXJyb3IgPSBudm1lX2dldF9sb2coY3RybCwg
TlZNRV9OU0lEX0FMTCwgTlZNRV9MT0dfQ0hBTkdFRF9OUywgMCwKPisJCQlOVk1FX0NTSV9OVk0s
IGxvZywgbG9nX3NpemUsIDApOwo+IAlpZiAoZXJyb3IpCj4gCQlkZXZfd2FybihjdHJsLT5kZXZp
Y2UsCj4gCQkJInJlYWRpbmcgY2hhbmdlZCBucyBsb2cgZmFpbGVkOiAlZFxuIiwgZXJyb3IpOwo+
QEAgLTQwMzAsOCArNDA2NSw4IEBAIHN0YXRpYyB2b2lkIG52bWVfZ2V0X2Z3X3Nsb3RfaW5mbyhz
dHJ1Y3QgbnZtZV9jdHJsICpjdHJsKQo+IAlpZiAoIWxvZykKPiAJCXJldHVybjsKPgo+LQlpZiAo
bnZtZV9nZXRfbG9nKGN0cmwsIE5WTUVfTlNJRF9BTEwsIE5WTUVfTE9HX0ZXX1NMT1QsIDAsIGxv
ZywKPi0JCQlzaXplb2YoKmxvZyksIDApKQo+KwlpZiAobnZtZV9nZXRfbG9nKGN0cmwsIE5WTUVf
TlNJRF9BTEwsIE5WTUVfTE9HX0ZXX1NMT1QsIDAsIE5WTUVfQ1NJX05WTSwKPisJCQlsb2csIHNp
emVvZigqbG9nKSwgMCkpCj4gCQlkZXZfd2FybihjdHJsLT5kZXZpY2UsICJHZXQgRlcgU0xPVCBJ
TkZPIGxvZyBlcnJvclxuIik7Cj4gCWtmcmVlKGxvZyk7Cj4gfQo+QEAgLTQxNjgsMTEgKzQyMDMs
MTYgQEAgc3RhdGljIHZvaWQgbnZtZV9mcmVlX2N0cmwoc3RydWN0IGRldmljZSAqZGV2KQo+IAlz
dHJ1Y3QgbnZtZV9jdHJsICpjdHJsID0KPiAJCWNvbnRhaW5lcl9vZihkZXYsIHN0cnVjdCBudm1l
X2N0cmwsIGN0cmxfZGV2aWNlKTsKPiAJc3RydWN0IG52bWVfc3Vic3lzdGVtICpzdWJzeXMgPSBj
dHJsLT5zdWJzeXM7Cj4rCXN0cnVjdCBudm1lX2NlbCAqY2VsLCAqbmV4dDsKPgo+IAlpZiAoc3Vi
c3lzICYmIGN0cmwtPmluc3RhbmNlICE9IHN1YnN5cy0+aW5zdGFuY2UpCj4gCQlpZGFfc2ltcGxl
X3JlbW92ZSgmbnZtZV9pbnN0YW5jZV9pZGEsIGN0cmwtPmluc3RhbmNlKTsKPgo+LQlrZnJlZShj
dHJsLT5lZmZlY3RzKTsKPisJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGNlbCwgbmV4dCwgJmN0
cmwtPmNlbHMsIGVudHJ5KSB7Cj4rCQlsaXN0X2RlbCgmY2VsLT5lbnRyeSk7Cj4rCQlrZnJlZShj
ZWwpOwo+Kwl9Cj4rCj4gCW52bWVfbXBhdGhfdW5pbml0KGN0cmwpOwo+IAlfX2ZyZWVfcGFnZShj
dHJsLT5kaXNjYXJkX3BhZ2UpOwo+Cj5AQCAtNDIwMyw2ICs0MjQzLDcgQEAgaW50IG52bWVfaW5p
dF9jdHJsKHN0cnVjdCBudm1lX2N0cmwgKmN0cmwsIHN0cnVjdCBkZXZpY2UgKmRldiwKPiAJc3Bp
bl9sb2NrX2luaXQoJmN0cmwtPmxvY2spOwo+IAltdXRleF9pbml0KCZjdHJsLT5zY2FuX2xvY2sp
Owo+IAlJTklUX0xJU1RfSEVBRCgmY3RybC0+bmFtZXNwYWNlcyk7Cj4rCUlOSVRfTElTVF9IRUFE
KCZjdHJsLT5jZWxzKTsKPiAJaW5pdF9yd3NlbSgmY3RybC0+bmFtZXNwYWNlc19yd3NlbSk7Cj4g
CWN0cmwtPmRldiA9IGRldjsKPiAJY3RybC0+b3BzID0gb3BzOwo+ZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbnZtZS9ob3N0L2h3bW9uLmMgYi9kcml2ZXJzL252bWUvaG9zdC9od21vbi5jCj5pbmRleCAy
ZTY0NzdlZDQyMGYuLjIzYmE4YmY2NzhhZSAxMDA2NDQKPi0tLSBhL2RyaXZlcnMvbnZtZS9ob3N0
L2h3bW9uLmMKPisrKyBiL2RyaXZlcnMvbnZtZS9ob3N0L2h3bW9uLmMKPkBAIC02Miw3ICs2Miw3
IEBAIHN0YXRpYyBpbnQgbnZtZV9od21vbl9nZXRfc21hcnRfbG9nKHN0cnVjdCBudm1lX2h3bW9u
X2RhdGEgKmRhdGEpCj4gCWludCByZXQ7Cj4KPiAJcmV0ID0gbnZtZV9nZXRfbG9nKGRhdGEtPmN0
cmwsIE5WTUVfTlNJRF9BTEwsIE5WTUVfTE9HX1NNQVJULCAwLAo+LQkJCSAgICZkYXRhLT5sb2cs
IHNpemVvZihkYXRhLT5sb2cpLCAwKTsKPisJCQkgICBOVk1FX0NTSV9OVk0sICZkYXRhLT5sb2cs
IHNpemVvZihkYXRhLT5sb2cpLCAwKTsKPgo+IAlyZXR1cm4gcmV0IDw9IDAgPyByZXQgOiAtRUlP
Owo+IH0KPmRpZmYgLS1naXQgYS9kcml2ZXJzL252bWUvaG9zdC9saWdodG52bS5jIGIvZHJpdmVy
cy9udm1lL2hvc3QvbGlnaHRudm0uYwo+aW5kZXggNjk2MDg3NTVkNDE1Li44ZTU2MmQwZjJjMzAg
MTAwNjQ0Cj4tLS0gYS9kcml2ZXJzL252bWUvaG9zdC9saWdodG52bS5jCj4rKysgYi9kcml2ZXJz
L252bWUvaG9zdC9saWdodG52bS5jCj5AQCAtNTkzLDggKzU5Myw4IEBAIHN0YXRpYyBpbnQgbnZt
ZV9udm1fZ2V0X2Noa19tZXRhKHN0cnVjdCBudm1fZGV2ICpuZGV2LAo+IAkJZGV2X21ldGFfb2Zm
ID0gZGV2X21ldGE7Cj4KPiAJCXJldCA9IG52bWVfZ2V0X2xvZyhjdHJsLCBucy0+aGVhZC0+bnNf
aWQsCj4tCQkJCU5WTUVfTlZNX0xPR19SRVBPUlRfQ0hVTkssIDAsIGRldl9tZXRhLCBsZW4sCj4t
CQkJCW9mZnNldCk7Cj4rCQkJCU5WTUVfTlZNX0xPR19SRVBPUlRfQ0hVTkssIDAsIE5WTUVfQ1NJ
X05WTSwKPisJCQkJZGV2X21ldGEsIGxlbiwgb2Zmc2V0KTsKPiAJCWlmIChyZXQpIHsKPiAJCQlk
ZXZfZXJyKGN0cmwtPmRldmljZSwgIkdldCBSRVBPUlQgQ0hVTksgbG9nIGVycm9yXG4iKTsKPiAJ
CQlicmVhazsKPmRpZmYgLS1naXQgYS9kcml2ZXJzL252bWUvaG9zdC9tdWx0aXBhdGguYyBiL2Ry
aXZlcnMvbnZtZS9ob3N0L211bHRpcGF0aC5jCj5pbmRleCBkYTc4ZTQ5OTk0N2EuLmU0YmJkZjJh
Y2MwOSAxMDA2NDQKPi0tLSBhL2RyaXZlcnMvbnZtZS9ob3N0L211bHRpcGF0aC5jCj4rKysgYi9k
cml2ZXJzL252bWUvaG9zdC9tdWx0aXBhdGguYwo+QEAgLTUzMSw3ICs1MzEsNyBAQCBzdGF0aWMg
aW50IG52bWVfcmVhZF9hbmFfbG9nKHN0cnVjdCBudm1lX2N0cmwgKmN0cmwpCj4gCWludCBlcnJv
cjsKPgo+IAltdXRleF9sb2NrKCZjdHJsLT5hbmFfbG9jayk7Cj4tCWVycm9yID0gbnZtZV9nZXRf
bG9nKGN0cmwsIE5WTUVfTlNJRF9BTEwsIE5WTUVfTE9HX0FOQSwgMCwKPisJZXJyb3IgPSBudm1l
X2dldF9sb2coY3RybCwgTlZNRV9OU0lEX0FMTCwgTlZNRV9MT0dfQU5BLCAwLCBOVk1FX0NTSV9O
Vk0sCj4gCQkJY3RybC0+YW5hX2xvZ19idWYsIGN0cmwtPmFuYV9sb2dfc2l6ZSwgMCk7Cj4gCWlm
IChlcnJvcikgewo+IAkJZGV2X3dhcm4oY3RybC0+ZGV2aWNlLCAiRmFpbGVkIHRvIGdldCBBTkEg
bG9nOiAlZFxuIiwgZXJyb3IpOwo+ZGlmZiAtLWdpdCBhL2RyaXZlcnMvbnZtZS9ob3N0L252bWUu
aCBiL2RyaXZlcnMvbnZtZS9ob3N0L252bWUuaAo+aW5kZXggYTg0ZjcxNDU5Y2FhLi41ODQyOGUz
YTU5MGUgMTAwNjQ0Cj4tLS0gYS9kcml2ZXJzL252bWUvaG9zdC9udm1lLmgKPisrKyBiL2RyaXZl
cnMvbnZtZS9ob3N0L252bWUuaAo+QEAgLTE5MSw2ICsxOTEsMTMgQEAgc3RydWN0IG52bWVfZmF1
bHRfaW5qZWN0IHsKPiAjZW5kaWYKPiB9Owo+Cj4rCj4rc3RydWN0IG52bWVfY2VsIHsKPisJc3Ry
dWN0IGxpc3RfaGVhZAllbnRyeTsKPisJc3RydWN0IG52bWVfZWZmZWN0c19sb2cJbG9nOwo+Kwl1
OAkJCWNzaTsKPit9Owo+Kwo+IHN0cnVjdCBudm1lX2N0cmwgewo+IAlib29sIGNvbXBfc2VlbjsK
PiAJZW51bSBudm1lX2N0cmxfc3RhdGUgc3RhdGU7Cj5AQCAtMjU3LDYgKzI2NCw3IEBAIHN0cnVj
dCBudm1lX2N0cmwgewo+IAl1bnNpZ25lZCBsb25nIHF1aXJrczsKPiAJc3RydWN0IG52bWVfaWRf
cG93ZXJfc3RhdGUgcHNkWzMyXTsKPiAJc3RydWN0IG52bWVfZWZmZWN0c19sb2cgKmVmZmVjdHM7
Cj4rCXN0cnVjdCBsaXN0X2hlYWQgY2VsczsKPiAJc3RydWN0IHdvcmtfc3RydWN0IHNjYW5fd29y
azsKPiAJc3RydWN0IHdvcmtfc3RydWN0IGFzeW5jX2V2ZW50X3dvcms7Cj4gCXN0cnVjdCBkZWxh
eWVkX3dvcmsga2Ffd29yazsKPkBAIC0zNTksNiArMzY3LDcgQEAgc3RydWN0IG52bWVfbnNfaGVh
ZCB7Cj4gCXN0cnVjdCBrcmVmCQlyZWY7Cj4gCWJvb2wJCQlzaGFyZWQ7Cj4gCWludAkJCWluc3Rh
bmNlOwo+KwlzdHJ1Y3QgbnZtZV9lZmZlY3RzX2xvZyAqZWZmZWN0czsKPiAjaWZkZWYgQ09ORklH
X05WTUVfTVVMVElQQVRICj4gCXN0cnVjdCBnZW5kaXNrCQkqZGlzazsKPiAJc3RydWN0IGJpb19s
aXN0CQlyZXF1ZXVlX2xpc3Q7Cj5AQCAtNTU3LDcgKzU2Niw3IEBAIGludCBudm1lX3Jlc2V0X2N0
cmxfc3luYyhzdHJ1Y3QgbnZtZV9jdHJsICpjdHJsKTsKPiBpbnQgbnZtZV90cnlfc2NoZWRfcmVz
ZXQoc3RydWN0IG52bWVfY3RybCAqY3RybCk7Cj4gaW50IG52bWVfZGVsZXRlX2N0cmwoc3RydWN0
IG52bWVfY3RybCAqY3RybCk7Cj4KPi1pbnQgbnZtZV9nZXRfbG9nKHN0cnVjdCBudm1lX2N0cmwg
KmN0cmwsIHUzMiBuc2lkLCB1OCBsb2dfcGFnZSwgdTggbHNwLAo+K2ludCBudm1lX2dldF9sb2co
c3RydWN0IG52bWVfY3RybCAqY3RybCwgdTMyIG5zaWQsIHU4IGxvZ19wYWdlLCB1OCBsc3AsIHU4
IGNzaSwKPiAJCXZvaWQgKmxvZywgc2l6ZV90IHNpemUsIHU2NCBvZmZzZXQpOwo+Cj4gZXh0ZXJu
IGNvbnN0IHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgKm52bWVfbnNfaWRfYXR0cl9ncm91cHNbXTsK
PmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L252bWUuaCBiL2luY2x1ZGUvbGludXgvbnZtZS5o
Cj5pbmRleCBmOGI1YjhkN2ZjN2UuLmVhMjVkYTU3MmVlZCAxMDA2NDQKPi0tLSBhL2luY2x1ZGUv
bGludXgvbnZtZS5oCj4rKysgYi9pbmNsdWRlL2xpbnV4L252bWUuaAo+QEAgLTExMDEsNyArMTEw
MSw5IEBAIHN0cnVjdCBudm1lX2dldF9sb2dfcGFnZV9jb21tYW5kIHsKPiAJCX07Cj4gCQlfX2xl
NjQgbHBvOwo+IAl9Owo+LQlfX3UzMgkJCXJzdmQxNFsyXTsKPisJX191OAkJCXJzdmQxNFszXTsK
PisJX191OAkJCWNzaTsKPisJX191MzIJCQlyc3ZkMTU7Cj4gfTsKPgo+IHN0cnVjdCBudm1lX2Rp
cmVjdGl2ZV9jbWQgewo+LS0gCj4yLjI0LjEKPgoKTG9va3MgZ29vZCB0byBtZS4KClJldmlld2Vk
LWJ5OiBKYXZpZXIgR29uesOhbGV6IDxqYXZpZXIuZ29uekBzYW1zdW5nLmNvbT4KCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmxpbnV4LW52bWUgbWFpbGlu
ZyBsaXN0CmxpbnV4LW52bWVAbGlzdHMuaW5mcmFkZWFkLm9yZwpodHRwOi8vbGlzdHMuaW5mcmFk
ZWFkLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2xpbnV4LW52bWUK
